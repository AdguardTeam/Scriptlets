{
    "version": "1.6.9",
    "scriptlets": [
        {
            "names": [
                "abort-on-property-read",
                "abort-on-property-read.js",
                "ubo-abort-on-property-read.js",
                "aopr.js",
                "ubo-aopr.js",
                "ubo-abort-on-property-read",
                "ubo-aopr",
                "abp-abort-on-property-read"
            ],
            "scriptlet": "function(source, args){function abortOnPropertyRead(source, args) {function abortOnPropertyRead(source, property) {if (!property) {return;}var rid = randomId();var abort = function abort() {hit(source);throw new ReferenceError(rid);};var setChainPropAccess = function setChainPropAccess(owner, property) {var chainInfo = getPropertyInChain(owner, property);var base = chainInfo.base;var prop = chainInfo.prop,chain = chainInfo.chain;if (chain) {var setter = function setter(a) {base = a;if (a instanceof Object) {setChainPropAccess(a, chain);}};Object.defineProperty(owner, prop, {get: function get() {return base;},set: setter});return;}setPropertyAccess(base, prop, {get: abort,set: function set() {}});};setChainPropAccess(window, property);window.onerror = createOnErrorHandler(rid).bind();}function randomId() {return Math.random().toString(36).substr(2, 9);}function setPropertyAccess(object, property, descriptor) {var currentDescriptor = Object.getOwnPropertyDescriptor(object, property);if (currentDescriptor && !currentDescriptor.configurable) {return false;}Object.defineProperty(object, property, descriptor);return true;}function getPropertyInChain(base, chain) {var pos = chain.indexOf('.');if (pos === -1) {return {base: base,prop: chain};}var prop = chain.slice(0, pos); // https://github.com/AdguardTeam/Scriptlets/issues/128if (base === null) {// if base is null, return 'null' as base.// it's needed for triggering the reason logging while debuggingreturn {base: base,prop: prop,chain: chain};}var nextBase = base[prop];chain = chain.slice(pos + 1);if (nextBase !== undefined) {return getPropertyInChain(nextBase, chain);}Object.defineProperty(base, prop, {configurable: true});return {base: nextBase,prop: prop,chain: chain};}function createOnErrorHandler(rid) {// eslint-disable-next-line consistent-returnvar nativeOnError = window.onerror;return function onError(error) {if (typeof error === 'string' && error.indexOf(rid) !== -1) {return true;}if (nativeOnError instanceof Function) {for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {args[_key - 1] = arguments[_key];}return nativeOnError.apply(this, [error].concat(args));}return false;};}function hit(source, message) {if (source.verbose !== true) {return;}try {var log = console.log.bind(console);var trace = console.trace.bind(console); // eslint-disable-line compat/compatvar prefix = source.ruleText || '';if (source.domainName) {var AG_SCRIPTLET_MARKER = '#%#//';var UBO_SCRIPTLET_MARKER = '##+js';var ruleStartIndex;if (source.ruleText.indexOf(AG_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(AG_SCRIPTLET_MARKER);} else if (source.ruleText.indexOf(UBO_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(UBO_SCRIPTLET_MARKER);} // delete all domains from ruleText and leave just rule partvar rulePart = source.ruleText.slice(ruleStartIndex); // prepare applied scriptlet rule for specific domainprefix = \"\".concat(source.domainName).concat(rulePart);} // Used to check if scriptlet uses 'hit' function for loggingvar LOG_MARKER = 'log: ';if (message) {if (message.indexOf(LOG_MARKER) === -1) {log(\"\".concat(prefix, \" message:\\n\").concat(message));} else {log(message.slice(LOG_MARKER.length));}}log(\"\".concat(prefix, \" trace start\"));if (trace) {trace();}log(\"\".concat(prefix, \" trace end\"));} catch (e) {// try catch for Edge 15// In according to this issue https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/14495220/// console.log throws an error} // This is necessary for unit-tests only!if (typeof window.__debug === 'function') {window.__debug(source);}};var updatedArgs = args ? [].concat(source).concat(args) : [source];try {abortOnPropertyRead.apply(this, updatedArgs);} catch (e) {console.log(e);}}}"
        },
        {
            "names": [
                "abort-on-property-write",
                "abort-on-property-write.js",
                "ubo-abort-on-property-write.js",
                "aopw.js",
                "ubo-aopw.js",
                "ubo-abort-on-property-write",
                "ubo-aopw",
                "abp-abort-on-property-write"
            ],
            "scriptlet": "function(source, args){function abortOnPropertyWrite(source, args) {function abortOnPropertyWrite(source, property) {if (!property) {return;}var rid = randomId();var abort = function abort() {hit(source);throw new ReferenceError(rid);};var setChainPropAccess = function setChainPropAccess(owner, property) {var chainInfo = getPropertyInChain(owner, property);var base = chainInfo.base;var prop = chainInfo.prop,chain = chainInfo.chain;if (chain) {var setter = function setter(a) {base = a;if (a instanceof Object) {setChainPropAccess(a, chain);}};Object.defineProperty(owner, prop, {get: function get() {return base;},set: setter});return;}setPropertyAccess(base, prop, {set: abort});};setChainPropAccess(window, property);window.onerror = createOnErrorHandler(rid).bind();}function randomId() {return Math.random().toString(36).substr(2, 9);}function setPropertyAccess(object, property, descriptor) {var currentDescriptor = Object.getOwnPropertyDescriptor(object, property);if (currentDescriptor && !currentDescriptor.configurable) {return false;}Object.defineProperty(object, property, descriptor);return true;}function getPropertyInChain(base, chain) {var pos = chain.indexOf('.');if (pos === -1) {return {base: base,prop: chain};}var prop = chain.slice(0, pos); // https://github.com/AdguardTeam/Scriptlets/issues/128if (base === null) {// if base is null, return 'null' as base.// it's needed for triggering the reason logging while debuggingreturn {base: base,prop: prop,chain: chain};}var nextBase = base[prop];chain = chain.slice(pos + 1);if (nextBase !== undefined) {return getPropertyInChain(nextBase, chain);}Object.defineProperty(base, prop, {configurable: true});return {base: nextBase,prop: prop,chain: chain};}function createOnErrorHandler(rid) {// eslint-disable-next-line consistent-returnvar nativeOnError = window.onerror;return function onError(error) {if (typeof error === 'string' && error.indexOf(rid) !== -1) {return true;}if (nativeOnError instanceof Function) {for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {args[_key - 1] = arguments[_key];}return nativeOnError.apply(this, [error].concat(args));}return false;};}function hit(source, message) {if (source.verbose !== true) {return;}try {var log = console.log.bind(console);var trace = console.trace.bind(console); // eslint-disable-line compat/compatvar prefix = source.ruleText || '';if (source.domainName) {var AG_SCRIPTLET_MARKER = '#%#//';var UBO_SCRIPTLET_MARKER = '##+js';var ruleStartIndex;if (source.ruleText.indexOf(AG_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(AG_SCRIPTLET_MARKER);} else if (source.ruleText.indexOf(UBO_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(UBO_SCRIPTLET_MARKER);} // delete all domains from ruleText and leave just rule partvar rulePart = source.ruleText.slice(ruleStartIndex); // prepare applied scriptlet rule for specific domainprefix = \"\".concat(source.domainName).concat(rulePart);} // Used to check if scriptlet uses 'hit' function for loggingvar LOG_MARKER = 'log: ';if (message) {if (message.indexOf(LOG_MARKER) === -1) {log(\"\".concat(prefix, \" message:\\n\").concat(message));} else {log(message.slice(LOG_MARKER.length));}}log(\"\".concat(prefix, \" trace start\"));if (trace) {trace();}log(\"\".concat(prefix, \" trace end\"));} catch (e) {// try catch for Edge 15// In according to this issue https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/14495220/// console.log throws an error} // This is necessary for unit-tests only!if (typeof window.__debug === 'function') {window.__debug(source);}};var updatedArgs = args ? [].concat(source).concat(args) : [source];try {abortOnPropertyWrite.apply(this, updatedArgs);} catch (e) {console.log(e);}}}"
        },
        {
            "names": [
                "prevent-setTimeout",
                "no-setTimeout-if.js",
                "ubo-no-setTimeout-if.js",
                "nostif.js",
                "ubo-nostif.js",
                "ubo-no-setTimeout-if",
                "ubo-nostif",
                "setTimeout-defuser.js",
                "ubo-setTimeout-defuser.js",
                "ubo-setTimeout-defuser",
                "std.js",
                "ubo-std.js",
                "ubo-std"
            ],
            "scriptlet": "function(source, args){function preventSetTimeout(source, args) {function preventSetTimeout(source, match, delay) {// if browser does not support Proxy (e.g. Internet Explorer),// we use none-proxy \"legacy\" wrapper for preventing// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxyvar isProxySupported = typeof Proxy !== 'undefined';var nativeTimeout = window.setTimeout;var log = console.log.bind(console); // eslint-disable-line no-console// logs setTimeouts to console if no arguments have been specifiedvar shouldLog = typeof match === 'undefined' && typeof delay === 'undefined';var _parseMatchArg = parseMatchArg(match),isInvertedMatch = _parseMatchArg.isInvertedMatch,matchRegexp = _parseMatchArg.matchRegexp;var _parseDelayArg = parseDelayArg(delay),isInvertedDelayMatch = _parseDelayArg.isInvertedDelayMatch,delayMatch = _parseDelayArg.delayMatch;var getShouldPrevent = function getShouldPrevent(callbackStr, timeout) {var shouldPrevent = false;if (!delayMatch) {shouldPrevent = matchRegexp.test(callbackStr) !== isInvertedMatch;} else if (!match) {shouldPrevent = timeout === delayMatch !== isInvertedDelayMatch;} else {shouldPrevent = matchRegexp.test(callbackStr) !== isInvertedMatch && timeout === delayMatch !== isInvertedDelayMatch;}return shouldPrevent;};var legacyTimeoutWrapper = function legacyTimeoutWrapper(callback, timeout) {var shouldPrevent = false; // https://github.com/AdguardTeam/Scriptlets/issues/105var cbString = String(callback);if (shouldLog) {hit(source);log(\"setTimeout(\".concat(cbString, \", \").concat(timeout, \")\"));} else {shouldPrevent = getShouldPrevent(cbString, timeout);}if (shouldPrevent) {hit(source);return nativeTimeout(noopFunc, timeout);}for (var _len3 = arguments.length, args = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {args[_key3 - 2] = arguments[_key3];}return nativeTimeout.apply(window, [callback, timeout].concat(args));};var handlerWrapper = function handlerWrapper(target, thisArg, args) {var callback = args[0];var timeout = args[1];var shouldPrevent = false; // https://github.com/AdguardTeam/Scriptlets/issues/105var cbString = String(callback);if (shouldLog) {hit(source);log(\"setTimeout(\".concat(cbString, \", \").concat(timeout, \")\"));} else {shouldPrevent = getShouldPrevent(cbString, timeout);}if (shouldPrevent) {hit(source);args[0] = noopFunc;}return target.apply(thisArg, args);};var setTimeoutHandler = {apply: handlerWrapper};window.setTimeout = isProxySupported ? new Proxy(window.setTimeout, setTimeoutHandler) : legacyTimeoutWrapper;}function hit(source, message) {if (source.verbose !== true) {return;}try {var log = console.log.bind(console);var trace = console.trace.bind(console); // eslint-disable-line compat/compatvar prefix = source.ruleText || '';if (source.domainName) {var AG_SCRIPTLET_MARKER = '#%#//';var UBO_SCRIPTLET_MARKER = '##+js';var ruleStartIndex;if (source.ruleText.indexOf(AG_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(AG_SCRIPTLET_MARKER);} else if (source.ruleText.indexOf(UBO_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(UBO_SCRIPTLET_MARKER);} // delete all domains from ruleText and leave just rule partvar rulePart = source.ruleText.slice(ruleStartIndex); // prepare applied scriptlet rule for specific domainprefix = \"\".concat(source.domainName).concat(rulePart);} // Used to check if scriptlet uses 'hit' function for loggingvar LOG_MARKER = 'log: ';if (message) {if (message.indexOf(LOG_MARKER) === -1) {log(\"\".concat(prefix, \" message:\\n\").concat(message));} else {log(message.slice(LOG_MARKER.length));}}log(\"\".concat(prefix, \" trace start\"));if (trace) {trace();}log(\"\".concat(prefix, \" trace end\"));} catch (e) {// try catch for Edge 15// In according to this issue https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/14495220/// console.log throws an error} // This is necessary for unit-tests only!if (typeof window.__debug === 'function') {window.__debug(source);}}function noopFunc() {}function parseMatchArg(match) {var INVERT_MARKER = '!';var isInvertedMatch = startsWith(match, INVERT_MARKER);var matchValue = isInvertedMatch ? match.slice(1) : match;var matchRegexp = toRegExp(matchValue);return {isInvertedMatch: isInvertedMatch,matchRegexp: matchRegexp};}function parseDelayArg(delay) {var INVERT_MARKER = '!';var isInvertedDelayMatch = startsWith(delay, INVERT_MARKER);var delayValue = isInvertedDelayMatch ? delay.slice(1) : delay;delayValue = parseInt(delayValue, 10);var delayMatch = (0, _numberUtils.nativeIsNaN)(delayValue) ? null : delayValue;return {isInvertedDelayMatch: isInvertedDelayMatch,delayMatch: delayMatch};}function toRegExp() {var input = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';var DEFAULT_VALUE = '.?';var FORWARD_SLASH = '/';if (input === '') {return new RegExp(DEFAULT_VALUE);}if (input[0] === FORWARD_SLASH && input[input.length - 1] === FORWARD_SLASH) {return new RegExp(input.slice(1, -1));}var escaped = input.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');return new RegExp(escaped);}function startsWith(str, prefix) {// if str === '', (str && false) will return ''// that's why it has to be !!strreturn !!str && str.indexOf(prefix) === 0;}function nativeIsNaN(num) {var native = Number.isNaN || window.isNaN; // eslint-disable-line compat/compatreturn native(num);};var updatedArgs = args ? [].concat(source).concat(args) : [source];try {preventSetTimeout.apply(this, updatedArgs);} catch (e) {console.log(e);}}}"
        },
        {
            "names": [
                "prevent-setInterval",
                "no-setInterval-if.js",
                "ubo-no-setInterval-if.js",
                "setInterval-defuser.js",
                "ubo-setInterval-defuser.js",
                "nosiif.js",
                "ubo-nosiif.js",
                "sid.js",
                "ubo-sid.js",
                "ubo-no-setInterval-if",
                "ubo-setInterval-defuser",
                "ubo-nosiif",
                "ubo-sid"
            ],
            "scriptlet": "function(source, args){function preventSetInterval(source, args) {function preventSetInterval(source, match, delay) {// if browser does not support Proxy (e.g. Internet Explorer),// we use none-proxy \"legacy\" wrapper for preventing// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxyvar isProxySupported = typeof Proxy !== 'undefined';var nativeInterval = window.setInterval;var log = console.log.bind(console); // eslint-disable-line no-console// logs setIntervals to console if no arguments have been specifiedvar shouldLog = typeof match === 'undefined' && typeof delay === 'undefined';var _parseMatchArg2 = parseMatchArg(match),isInvertedMatch = _parseMatchArg2.isInvertedMatch,matchRegexp = _parseMatchArg2.matchRegexp;var _parseDelayArg2 = parseDelayArg(delay),isInvertedDelayMatch = _parseDelayArg2.isInvertedDelayMatch,delayMatch = _parseDelayArg2.delayMatch;var getShouldPrevent = function getShouldPrevent(callbackStr, interval) {var shouldPrevent = false;if (!delayMatch) {shouldPrevent = matchRegexp.test(callbackStr) !== isInvertedMatch;} else if (!match) {shouldPrevent = interval === delayMatch !== isInvertedDelayMatch;} else {shouldPrevent = matchRegexp.test(callbackStr) !== isInvertedMatch && interval === delayMatch !== isInvertedDelayMatch;}return shouldPrevent;};var legacyIntervalWrapper = function legacyIntervalWrapper(callback, interval) {var shouldPrevent = false; // https://github.com/AdguardTeam/Scriptlets/issues/105var cbString = String(callback);if (shouldLog) {hit(source);log(\"setInterval(\".concat(cbString, \", \").concat(interval, \")\"));} else {shouldPrevent = getShouldPrevent(cbString, interval);}if (shouldPrevent) {hit(source);return nativeInterval(noopFunc, interval);}for (var _len4 = arguments.length, args = new Array(_len4 > 2 ? _len4 - 2 : 0), _key4 = 2; _key4 < _len4; _key4++) {args[_key4 - 2] = arguments[_key4];}return nativeInterval.apply(window, [callback, interval].concat(args));};var handlerWrapper = function handlerWrapper(target, thisArg, args) {var callback = args[0];var interval = args[1];var shouldPrevent = false; // https://github.com/AdguardTeam/Scriptlets/issues/105var cbString = String(callback);if (shouldLog) {hit(source);log(\"setInterval(\".concat(cbString, \", \").concat(interval, \")\"));} else {shouldPrevent = getShouldPrevent(cbString, interval);}if (shouldPrevent) {hit(source);args[0] = noopFunc;}return target.apply(thisArg, args);};var setIntervalHandler = {apply: handlerWrapper};window.setInterval = isProxySupported ? new Proxy(window.setInterval, setIntervalHandler) : legacyIntervalWrapper;}function hit(source, message) {if (source.verbose !== true) {return;}try {var log = console.log.bind(console);var trace = console.trace.bind(console); // eslint-disable-line compat/compatvar prefix = source.ruleText || '';if (source.domainName) {var AG_SCRIPTLET_MARKER = '#%#//';var UBO_SCRIPTLET_MARKER = '##+js';var ruleStartIndex;if (source.ruleText.indexOf(AG_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(AG_SCRIPTLET_MARKER);} else if (source.ruleText.indexOf(UBO_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(UBO_SCRIPTLET_MARKER);} // delete all domains from ruleText and leave just rule partvar rulePart = source.ruleText.slice(ruleStartIndex); // prepare applied scriptlet rule for specific domainprefix = \"\".concat(source.domainName).concat(rulePart);} // Used to check if scriptlet uses 'hit' function for loggingvar LOG_MARKER = 'log: ';if (message) {if (message.indexOf(LOG_MARKER) === -1) {log(\"\".concat(prefix, \" message:\\n\").concat(message));} else {log(message.slice(LOG_MARKER.length));}}log(\"\".concat(prefix, \" trace start\"));if (trace) {trace();}log(\"\".concat(prefix, \" trace end\"));} catch (e) {// try catch for Edge 15// In according to this issue https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/14495220/// console.log throws an error} // This is necessary for unit-tests only!if (typeof window.__debug === 'function') {window.__debug(source);}}function noopFunc() {}function parseMatchArg(match) {var INVERT_MARKER = '!';var isInvertedMatch = startsWith(match, INVERT_MARKER);var matchValue = isInvertedMatch ? match.slice(1) : match;var matchRegexp = toRegExp(matchValue);return {isInvertedMatch: isInvertedMatch,matchRegexp: matchRegexp};}function parseDelayArg(delay) {var INVERT_MARKER = '!';var isInvertedDelayMatch = startsWith(delay, INVERT_MARKER);var delayValue = isInvertedDelayMatch ? delay.slice(1) : delay;delayValue = parseInt(delayValue, 10);var delayMatch = (0, _numberUtils.nativeIsNaN)(delayValue) ? null : delayValue;return {isInvertedDelayMatch: isInvertedDelayMatch,delayMatch: delayMatch};}function toRegExp() {var input = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';var DEFAULT_VALUE = '.?';var FORWARD_SLASH = '/';if (input === '') {return new RegExp(DEFAULT_VALUE);}if (input[0] === FORWARD_SLASH && input[input.length - 1] === FORWARD_SLASH) {return new RegExp(input.slice(1, -1));}var escaped = input.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');return new RegExp(escaped);}function startsWith(str, prefix) {// if str === '', (str && false) will return ''// that's why it has to be !!strreturn !!str && str.indexOf(prefix) === 0;}function nativeIsNaN(num) {var native = Number.isNaN || window.isNaN; // eslint-disable-line compat/compatreturn native(num);};var updatedArgs = args ? [].concat(source).concat(args) : [source];try {preventSetInterval.apply(this, updatedArgs);} catch (e) {console.log(e);}}}"
        },
        {
            "names": [
                "prevent-window-open",
                "window.open-defuser.js",
                "ubo-window.open-defuser.js",
                "ubo-window.open-defuser",
                "nowoif.js",
                "ubo-nowoif.js",
                "ubo-nowoif"
            ],
            "scriptlet": "function(source, args){function preventWindowOpen(source, args) {function preventWindowOpen(source) {var match = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : getWildcardSymbol();var delay = arguments.length > 2 ? arguments[2] : undefined;var replacement = arguments.length > 3 ? arguments[3] : undefined; // default match value is needed for preventing all window.open calls// if scriptlet runs without argsvar nativeOpen = window.open;var isNewSyntax = match !== '0' && match !== '1';var oldOpenWrapper = function oldOpenWrapper(str) {match = Number(match) > 0; // 'delay' was 'search' prop for matching in old syntaxfor (var _len5 = arguments.length, args = new Array(_len5 > 1 ? _len5 - 1 : 0), _key5 = 1; _key5 < _len5; _key5++) {args[_key5 - 1] = arguments[_key5];}if (!validateStrPattern(delay)) {// eslint-disable-next-line no-consoleconsole.log(\"Invalid parameter: \".concat(delay));return nativeOpen.apply(window, [str].concat(args));}var searchRegexp = toRegExp(delay);if (match !== searchRegexp.test(str)) {return nativeOpen.apply(window, [str].concat(args));}hit(source);return handleOldReplacement(replacement);};var newOpenWrapper = function newOpenWrapper(url) {var shouldLog = replacement && replacement.indexOf('log') > -1;for (var _len6 = arguments.length, args = new Array(_len6 > 1 ? _len6 - 1 : 0), _key6 = 1; _key6 < _len6; _key6++) {args[_key6 - 1] = arguments[_key6];}if (shouldLog) {var argsStr = args && args.length > 0 ? \", \".concat(args.join(', ')) : '';var logMessage = \"log: window-open: \".concat(url).concat(argsStr);hit(source, logMessage);}var shouldPrevent = false;if (match === getWildcardSymbol()) {shouldPrevent = true;} else if (validateMatchStr(match)) {var _parseMatchArg3 = parseMatchArg(match),isInvertedMatch = _parseMatchArg3.isInvertedMatch,matchRegexp = _parseMatchArg3.matchRegexp;shouldPrevent = matchRegexp.test(url) !== isInvertedMatch;} else {// eslint-disable-next-line no-consoleconsole.log(\"Invalid parameter: \".concat(match));shouldPrevent = false;}if (shouldPrevent) {var parsedDelay = parseInt(delay, 10);var result;if (nativeIsNaN(parsedDelay)) {result = noopNull();} else {var decoyArgs = {replacement: replacement,url: url,delay: parsedDelay};var decoy = createDecoy(decoyArgs);var popup = decoy.contentWindow;if (typeof popup === 'object' && popup !== null) {Object.defineProperty(popup, 'closed', {value: false});Object.defineProperty(popup, 'opener', {value: window});Object.defineProperty(popup, 'frameElement', {value: null});} else {var nativeGetter = decoy.contentWindow && decoy.contentWindow.get;Object.defineProperty(decoy, 'contentWindow', {get: getPreventGetter(nativeGetter)});popup = decoy.contentWindow;}result = popup;}hit(source);return result;}return nativeOpen.apply(window, [url].concat(args));};window.open = isNewSyntax ? newOpenWrapper : oldOpenWrapper; // Protect window.open from native code checkwindow.open.toString = nativeOpen.toString.bind(nativeOpen);}function hit(source, message) {if (source.verbose !== true) {return;}try {var log = console.log.bind(console);var trace = console.trace.bind(console); // eslint-disable-line compat/compatvar prefix = source.ruleText || '';if (source.domainName) {var AG_SCRIPTLET_MARKER = '#%#//';var UBO_SCRIPTLET_MARKER = '##+js';var ruleStartIndex;if (source.ruleText.indexOf(AG_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(AG_SCRIPTLET_MARKER);} else if (source.ruleText.indexOf(UBO_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(UBO_SCRIPTLET_MARKER);} // delete all domains from ruleText and leave just rule partvar rulePart = source.ruleText.slice(ruleStartIndex); // prepare applied scriptlet rule for specific domainprefix = \"\".concat(source.domainName).concat(rulePart);} // Used to check if scriptlet uses 'hit' function for loggingvar LOG_MARKER = 'log: ';if (message) {if (message.indexOf(LOG_MARKER) === -1) {log(\"\".concat(prefix, \" message:\\n\").concat(message));} else {log(message.slice(LOG_MARKER.length));}}log(\"\".concat(prefix, \" trace start\"));if (trace) {trace();}log(\"\".concat(prefix, \" trace end\"));} catch (e) {// try catch for Edge 15// In according to this issue https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/14495220/// console.log throws an error} // This is necessary for unit-tests only!if (typeof window.__debug === 'function') {window.__debug(source);}}function validateStrPattern(input) {var FORWARD_SLASH = '/';var str = input;if (input[0] === FORWARD_SLASH && input[input.length - 1] === FORWARD_SLASH) {str = input.slice(1, -1);}var isValid;try {isValid = new RegExp(str);isValid = true;} catch (e) {isValid = false;}return isValid;}function validateMatchStr(match) {var INVERT_MARKER = '!';var str = match;if (startsWith(match, INVERT_MARKER)) {str = match.slice(1);}return validateStrPattern(str);}function toRegExp() {var input = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';var DEFAULT_VALUE = '.?';var FORWARD_SLASH = '/';if (input === '') {return new RegExp(DEFAULT_VALUE);}if (input[0] === FORWARD_SLASH && input[input.length - 1] === FORWARD_SLASH) {return new RegExp(input.slice(1, -1));}var escaped = input.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');return new RegExp(escaped);}function nativeIsNaN(num) {var native = Number.isNaN || window.isNaN; // eslint-disable-line compat/compatreturn native(num);}function parseMatchArg(match) {var INVERT_MARKER = '!';var isInvertedMatch = startsWith(match, INVERT_MARKER);var matchValue = isInvertedMatch ? match.slice(1) : match;var matchRegexp = toRegExp(matchValue);return {isInvertedMatch: isInvertedMatch,matchRegexp: matchRegexp};}function handleOldReplacement(replacement) {var result; // defaults to return noopFunc instead of window.openif (!replacement) {result = _noop.noopFunc;} else if (replacement === 'trueFunc') {result = _noop.trueFunc;} else if (replacement.indexOf('=') > -1) {// We should return noopFunc instead of window.open// but with some property if website checks it (examples 5, 6)// https://github.com/AdguardTeam/Scriptlets/issues/71var isProp = (0, _stringUtils.startsWith)(replacement, '{') && (0, _stringUtils.endsWith)(replacement, '}');if (isProp) {var propertyPart = replacement.slice(1, -1);var propertyName = (0, _stringUtils.substringBefore)(propertyPart, '=');var propertyValue = (0, _stringUtils.substringAfter)(propertyPart, '=');if (propertyValue === 'noopFunc') {result = {};result[propertyName] = _noop.noopFunc;}}}return result;}function createDecoy(args) {var OBJECT_TAG_NAME = 'object';var OBJECT_URL_PROP_NAME = 'data';var IFRAME_TAG_NAME = 'iframe';var IFRAME_URL_PROP_NAME = 'src';var replacement = args.replacement,url = args.url,delay = args.delay;var tag;var urlProp;if (replacement === 'obj') {tag = OBJECT_TAG_NAME;urlProp = OBJECT_URL_PROP_NAME;} else {tag = IFRAME_TAG_NAME;urlProp = IFRAME_URL_PROP_NAME;}var decoy = document.createElement(tag);decoy[urlProp] = url;decoy.style.setProperty('height', '1px', 'important');decoy.style.setProperty('position', 'fixed', 'important');decoy.style.setProperty('top', '-1px', 'important');decoy.style.setProperty('width', '1px', 'important');document.body.appendChild(decoy);setTimeout(function () {return decoy.remove();}, delay * 1000);return decoy;}function getPreventGetter(nativeGetter) {var preventGetter = function preventGetter(target, prop) {if (prop && prop === 'closed') {return false;}if (typeof nativeGetter === 'function') {return _noop.noopFunc;}return prop && target[prop];};return preventGetter;}function noopNull() {return null;}function getWildcardSymbol() {return '*';}function noopFunc() {}function trueFunc() {return true;}function startsWith(str, prefix) {// if str === '', (str && false) will return ''// that's why it has to be !!strreturn !!str && str.indexOf(prefix) === 0;}function endsWith(str, ending) {// if str === '', (str && false) will return ''// that's why it has to be !!strreturn !!str && str.indexOf(ending) === str.length - ending.length;}function substringBefore(str, separator) {if (!str || !separator) {return str;}var index = str.indexOf(separator);return index < 0 ? str : str.substring(0, index);}function substringAfter(str, separator) {if (!str) {return str;}var index = str.indexOf(separator);return index < 0 ? '' : str.substring(index + separator.length);};var updatedArgs = args ? [].concat(source).concat(args) : [source];try {preventWindowOpen.apply(this, updatedArgs);} catch (e) {console.log(e);}}}"
        },
        {
            "names": [
                "abort-current-inline-script",
                "abort-current-script.js",
                "ubo-abort-current-script.js",
                "acs.js",
                "ubo-acs.js",
                "ubo-abort-current-script",
                "ubo-acs",
                "abort-current-inline-script.js",
                "ubo-abort-current-inline-script.js",
                "acis.js",
                "ubo-acis.js",
                "ubo-abort-current-inline-script",
                "ubo-acis",
                "abp-abort-current-inline-script"
            ],
            "scriptlet": "function(source, args){function abortCurrentInlineScript(source, args) {function abortCurrentInlineScript(source, property, search) {var searchRegexp = toRegExp(search);var rid = randomId();var SRC_DATA_MARKER = 'data:text/javascript;base64,';var getCurrentScript = function getCurrentScript() {if ('currentScript' in document) {return document.currentScript; // eslint-disable-line compat/compat}var scripts = document.getElementsByTagName('script');return scripts[scripts.length - 1];};var ourScript = getCurrentScript();var abort = function abort() {var scriptEl = getCurrentScript();if (!scriptEl) {return;}var content = scriptEl.textContent; // We are using Node.prototype.textContent property descriptor// to get the real script content// even when document.currentScript.textContent is replaced.// https://github.com/AdguardTeam/Scriptlets/issues/57#issuecomment-593638991try {var textContentGetter = Object.getOwnPropertyDescriptor(Node.prototype, 'textContent').get;content = textContentGetter.call(scriptEl);} catch (e) {} // eslint-disable-line no-empty// https://github.com/AdguardTeam/Scriptlets/issues/130if (content.length === 0 && typeof scriptEl.src !== 'undefined' && startsWith(scriptEl.src, SRC_DATA_MARKER)) {var encodedContent = scriptEl.src.slice(SRC_DATA_MARKER.length);content = window.atob(encodedContent);}if (scriptEl instanceof HTMLScriptElement && content.length > 0 && scriptEl !== ourScript && searchRegexp.test(content)) {hit(source);throw new ReferenceError(rid);}};var setChainPropAccess = function setChainPropAccess(owner, property) {var chainInfo = getPropertyInChain(owner, property);var base = chainInfo.base;var prop = chainInfo.prop,chain = chainInfo.chain; // The scriptlet might be executed before the chain property has been created// (for instance, document.body before the HTML body was loaded).// In this case we're checking whether the base element exists or not// and if not, we simply exit without overriding anything.// e.g. https://github.com/AdguardTeam/Scriptlets/issues/57#issuecomment-575841092if (base instanceof Object === false && base === null) {var props = property.split('.');var propIndex = props.indexOf(prop);var baseName = props[propIndex - 1];console.log(\"The scriptlet had been executed before the \".concat(baseName, \" was loaded.\")); // eslint-disable-line no-console, max-lenreturn;}if (chain) {var setter = function setter(a) {base = a;if (a instanceof Object) {setChainPropAccess(a, chain);}};Object.defineProperty(owner, prop, {get: function get() {return base;},set: setter});return;}var currentValue = base[prop];var origDescriptor = Object.getOwnPropertyDescriptor(base, prop);if (origDescriptor instanceof Object === false || origDescriptor.get instanceof Function === false) {currentValue = base[prop];origDescriptor = undefined;}setPropertyAccess(base, prop, {set: function set(value) {abort();if (origDescriptor instanceof Object) {origDescriptor.set.call(base, value);} else {currentValue = value;}},get: function get() {abort();if (origDescriptor instanceof Object) {return origDescriptor.get.call(base);}return currentValue;}});};setChainPropAccess(window, property);window.onerror = createOnErrorHandler(rid).bind();}function randomId() {return Math.random().toString(36).substr(2, 9);}function setPropertyAccess(object, property, descriptor) {var currentDescriptor = Object.getOwnPropertyDescriptor(object, property);if (currentDescriptor && !currentDescriptor.configurable) {return false;}Object.defineProperty(object, property, descriptor);return true;}function getPropertyInChain(base, chain) {var pos = chain.indexOf('.');if (pos === -1) {return {base: base,prop: chain};}var prop = chain.slice(0, pos); // https://github.com/AdguardTeam/Scriptlets/issues/128if (base === null) {// if base is null, return 'null' as base.// it's needed for triggering the reason logging while debuggingreturn {base: base,prop: prop,chain: chain};}var nextBase = base[prop];chain = chain.slice(pos + 1);if (nextBase !== undefined) {return getPropertyInChain(nextBase, chain);}Object.defineProperty(base, prop, {configurable: true});return {base: nextBase,prop: prop,chain: chain};}function toRegExp() {var input = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';var DEFAULT_VALUE = '.?';var FORWARD_SLASH = '/';if (input === '') {return new RegExp(DEFAULT_VALUE);}if (input[0] === FORWARD_SLASH && input[input.length - 1] === FORWARD_SLASH) {return new RegExp(input.slice(1, -1));}var escaped = input.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');return new RegExp(escaped);}function startsWith(str, prefix) {// if str === '', (str && false) will return ''// that's why it has to be !!strreturn !!str && str.indexOf(prefix) === 0;}function createOnErrorHandler(rid) {// eslint-disable-next-line consistent-returnvar nativeOnError = window.onerror;return function onError(error) {if (typeof error === 'string' && error.indexOf(rid) !== -1) {return true;}if (nativeOnError instanceof Function) {for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {args[_key - 1] = arguments[_key];}return nativeOnError.apply(this, [error].concat(args));}return false;};}function hit(source, message) {if (source.verbose !== true) {return;}try {var log = console.log.bind(console);var trace = console.trace.bind(console); // eslint-disable-line compat/compatvar prefix = source.ruleText || '';if (source.domainName) {var AG_SCRIPTLET_MARKER = '#%#//';var UBO_SCRIPTLET_MARKER = '##+js';var ruleStartIndex;if (source.ruleText.indexOf(AG_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(AG_SCRIPTLET_MARKER);} else if (source.ruleText.indexOf(UBO_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(UBO_SCRIPTLET_MARKER);} // delete all domains from ruleText and leave just rule partvar rulePart = source.ruleText.slice(ruleStartIndex); // prepare applied scriptlet rule for specific domainprefix = \"\".concat(source.domainName).concat(rulePart);} // Used to check if scriptlet uses 'hit' function for loggingvar LOG_MARKER = 'log: ';if (message) {if (message.indexOf(LOG_MARKER) === -1) {log(\"\".concat(prefix, \" message:\\n\").concat(message));} else {log(message.slice(LOG_MARKER.length));}}log(\"\".concat(prefix, \" trace start\"));if (trace) {trace();}log(\"\".concat(prefix, \" trace end\"));} catch (e) {// try catch for Edge 15// In according to this issue https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/14495220/// console.log throws an error} // This is necessary for unit-tests only!if (typeof window.__debug === 'function') {window.__debug(source);}};var updatedArgs = args ? [].concat(source).concat(args) : [source];try {abortCurrentInlineScript.apply(this, updatedArgs);} catch (e) {console.log(e);}}}"
        },
        {
            "names": [
                "set-constant",
                "set-constant.js",
                "ubo-set-constant.js",
                "set.js",
                "ubo-set.js",
                "ubo-set-constant",
                "ubo-set",
                "abp-override-property-read"
            ],
            "scriptlet": "function(source, args){function setConstant(source, args) {function setConstant(source, property, value, stack) {if (!property || !matchStackTrace(stack, new Error().stack)) {return;} // eslint-disable-next-line no-consolevar log = console.log.bind(console);var emptyArr = noopArray();var emptyObj = noopObject();var constantValue;if (value === 'undefined') {constantValue = undefined;} else if (value === 'false') {constantValue = false;} else if (value === 'true') {constantValue = true;} else if (value === 'null') {constantValue = null;} else if (value === 'emptyArr') {constantValue = emptyArr;} else if (value === 'emptyObj') {constantValue = emptyObj;} else if (value === 'noopFunc') {constantValue = noopFunc;} else if (value === 'trueFunc') {constantValue = trueFunc;} else if (value === 'falseFunc') {constantValue = falseFunc;} else if (value === 'noopPromiseResolve') {constantValue = noopPromiseResolve;} else if (value === 'noopPromiseReject') {constantValue = noopPromiseReject;} else if (/^\\d+$/.test(value)) {constantValue = parseFloat(value);if (nativeIsNaN(constantValue)) {return;}if (Math.abs(constantValue) > 0x7FFF) {return;}} else if (value === '-1') {constantValue = -1;} else if (value === '') {constantValue = '';} else if (value === 'yes') {constantValue = 'yes';} else if (value === 'no') {constantValue = 'no';} else {return;}var getCurrentScript = function getCurrentScript() {if ('currentScript' in document) {return document.currentScript; // eslint-disable-line compat/compat}var scripts = document.getElementsByTagName('script');return scripts[scripts.length - 1];};var ourScript = getCurrentScript();var canceled = false;var mustCancel = function mustCancel(value) {if (canceled) {return canceled;}canceled = value !== undefined && constantValue !== undefined && typeof value !== typeof constantValue;return canceled;};var trapProp = function trapProp(base, prop, configurable, handler) {if (!handler.init(base[prop])) {return false;}var origDescriptor = Object.getOwnPropertyDescriptor(base, prop);var prevGetter;var prevSetter; // This is required to prevent scriptlets overwrite each overif (origDescriptor instanceof Object) {// This check is required to avoid defining non-configurable propsif (!origDescriptor.configurable) {if (source.verbose) {log(\"set-constant: property '\".concat(prop, \"' is not configurable\"));}return false;}base[prop] = constantValue;if (origDescriptor.get instanceof Function) {prevGetter = origDescriptor.get;}if (origDescriptor.set instanceof Function) {prevSetter = origDescriptor.set;}}Object.defineProperty(base, prop, {configurable: configurable,get: function get() {if (prevGetter !== undefined) {prevGetter();}return handler.get();},set: function set(a) {if (prevSetter !== undefined) {prevSetter(a);}handler.set(a);}});return true;};var setChainPropAccess = function setChainPropAccess(owner, property) {var chainInfo = getPropertyInChain(owner, property);var base = chainInfo.base;var prop = chainInfo.prop,chain = chainInfo.chain; // Handler method init is used to keep track of factual value// and apply mustCancel() check only on end propvar undefPropHandler = {factValue: undefined,init: function init(a) {this.factValue = a;return true;},get: function get() {return this.factValue;},set: function set(a) {// Prevent breakage due to loop assignments like win.obj = win.objif (this.factValue === a) {return;}this.factValue = a;if (a instanceof Object) {setChainPropAccess(a, chain);}}};var endPropHandler = {factValue: undefined,init: function init(a) {if (mustCancel(a)) {return false;}this.factValue = a;return true;},get: function get() {// .currrentSript script check so we won't trap other scriptlets on the same chain// eslint-disable-next-line compat/compatreturn document.currentScript === ourScript ? this.factValue : constantValue;},set: function set(a) {if (!mustCancel(a)) {return;}constantValue = a;}}; // End prop caseif (!chain) {var isTrapped = trapProp(base, prop, false, endPropHandler);if (isTrapped) {hit(source);}return;} // Defined prop in chainvar propValue = owner[prop];if (propValue instanceof Object || typeof propValue === 'object' && propValue !== null) {setChainPropAccess(propValue, chain);} // Undefined prop in chaintrapProp(owner, prop, true, undefPropHandler);};setChainPropAccess(window, property);}function hit(source, message) {if (source.verbose !== true) {return;}try {var log = console.log.bind(console);var trace = console.trace.bind(console); // eslint-disable-line compat/compatvar prefix = source.ruleText || '';if (source.domainName) {var AG_SCRIPTLET_MARKER = '#%#//';var UBO_SCRIPTLET_MARKER = '##+js';var ruleStartIndex;if (source.ruleText.indexOf(AG_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(AG_SCRIPTLET_MARKER);} else if (source.ruleText.indexOf(UBO_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(UBO_SCRIPTLET_MARKER);} // delete all domains from ruleText and leave just rule partvar rulePart = source.ruleText.slice(ruleStartIndex); // prepare applied scriptlet rule for specific domainprefix = \"\".concat(source.domainName).concat(rulePart);} // Used to check if scriptlet uses 'hit' function for loggingvar LOG_MARKER = 'log: ';if (message) {if (message.indexOf(LOG_MARKER) === -1) {log(\"\".concat(prefix, \" message:\\n\").concat(message));} else {log(message.slice(LOG_MARKER.length));}}log(\"\".concat(prefix, \" trace start\"));if (trace) {trace();}log(\"\".concat(prefix, \" trace end\"));} catch (e) {// try catch for Edge 15// In according to this issue https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/14495220/// console.log throws an error} // This is necessary for unit-tests only!if (typeof window.__debug === 'function') {window.__debug(source);}}function noopArray() {return [];}function noopObject() {return {};}function noopFunc() {}function trueFunc() {return true;}function falseFunc() {return false;}function noopPromiseReject() {return Promise.reject();}function noopPromiseResolve() {var responseBody = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '{}';if (typeof Response === 'undefined') {return;} // eslint-disable-next-line compat/compatvar response = new Response(responseBody, {status: 200,statusText: 'OK'}); // eslint-disable-next-line compat/compat, consistent-returnreturn Promise.resolve(response);}function getPropertyInChain(base, chain) {var pos = chain.indexOf('.');if (pos === -1) {return {base: base,prop: chain};}var prop = chain.slice(0, pos); // https://github.com/AdguardTeam/Scriptlets/issues/128if (base === null) {// if base is null, return 'null' as base.// it's needed for triggering the reason logging while debuggingreturn {base: base,prop: prop,chain: chain};}var nextBase = base[prop];chain = chain.slice(pos + 1);if (nextBase !== undefined) {return getPropertyInChain(nextBase, chain);}Object.defineProperty(base, prop, {configurable: true});return {base: nextBase,prop: prop,chain: chain};}function setPropertyAccess(object, property, descriptor) {var currentDescriptor = Object.getOwnPropertyDescriptor(object, property);if (currentDescriptor && !currentDescriptor.configurable) {return false;}Object.defineProperty(object, property, descriptor);return true;}function toRegExp() {var input = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';var DEFAULT_VALUE = '.?';var FORWARD_SLASH = '/';if (input === '') {return new RegExp(DEFAULT_VALUE);}if (input[0] === FORWARD_SLASH && input[input.length - 1] === FORWARD_SLASH) {return new RegExp(input.slice(1, -1));}var escaped = input.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');return new RegExp(escaped);}function matchStackTrace(stackMatch, stackTrace) {if (!stackMatch || stackMatch === '') {return true;}var stackRegexp = (0, _stringUtils.toRegExp)(stackMatch);var refinedStackTrace = stackTrace.split('\\n').slice(2) // get rid of our own functions in the stack trace.map(function (line) {return line.trim();}) // trim the lines.join('\\n');return stackRegexp.test(refinedStackTrace);}function nativeIsNaN(num) {var native = Number.isNaN || window.isNaN; // eslint-disable-line compat/compatreturn native(num);};var updatedArgs = args ? [].concat(source).concat(args) : [source];try {setConstant.apply(this, updatedArgs);} catch (e) {console.log(e);}}}"
        },
        {
            "names": [
                "remove-cookie",
                "cookie-remover.js",
                "ubo-cookie-remover.js",
                "ubo-cookie-remover"
            ],
            "scriptlet": "function(source, args){function removeCookie(source, args) {function removeCookie(source, match) {var matchRegexp = toRegExp(match);var removeCookieFromHost = function removeCookieFromHost(cookieName, hostName) {var cookieSpec = \"\".concat(cookieName, \"=\");var domain1 = \"; domain=\".concat(hostName);var domain2 = \"; domain=.\".concat(hostName);var path = '; path=/';var expiration = '; expires=Thu, 01 Jan 1970 00:00:00 GMT';document.cookie = cookieSpec + expiration;document.cookie = cookieSpec + domain1 + expiration;document.cookie = cookieSpec + domain2 + expiration;document.cookie = cookieSpec + path + expiration;document.cookie = cookieSpec + domain1 + path + expiration;document.cookie = cookieSpec + domain2 + path + expiration;hit(source);};var rmCookie = function rmCookie() {document.cookie.split(';').forEach(function (cookieStr) {var pos = cookieStr.indexOf('=');if (pos === -1) {return;}var cookieName = cookieStr.slice(0, pos).trim();if (!matchRegexp.test(cookieName)) {return;}var hostParts = document.location.hostname.split('.');for (var i = 0; i <= hostParts.length - 1; i += 1) {var hostName = hostParts.slice(i).join('.');if (hostName) {removeCookieFromHost(cookieName, hostName);}}});};rmCookie();window.addEventListener('beforeunload', rmCookie);}function toRegExp() {var input = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';var DEFAULT_VALUE = '.?';var FORWARD_SLASH = '/';if (input === '') {return new RegExp(DEFAULT_VALUE);}if (input[0] === FORWARD_SLASH && input[input.length - 1] === FORWARD_SLASH) {return new RegExp(input.slice(1, -1));}var escaped = input.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');return new RegExp(escaped);}function hit(source, message) {if (source.verbose !== true) {return;}try {var log = console.log.bind(console);var trace = console.trace.bind(console); // eslint-disable-line compat/compatvar prefix = source.ruleText || '';if (source.domainName) {var AG_SCRIPTLET_MARKER = '#%#//';var UBO_SCRIPTLET_MARKER = '##+js';var ruleStartIndex;if (source.ruleText.indexOf(AG_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(AG_SCRIPTLET_MARKER);} else if (source.ruleText.indexOf(UBO_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(UBO_SCRIPTLET_MARKER);} // delete all domains from ruleText and leave just rule partvar rulePart = source.ruleText.slice(ruleStartIndex); // prepare applied scriptlet rule for specific domainprefix = \"\".concat(source.domainName).concat(rulePart);} // Used to check if scriptlet uses 'hit' function for loggingvar LOG_MARKER = 'log: ';if (message) {if (message.indexOf(LOG_MARKER) === -1) {log(\"\".concat(prefix, \" message:\\n\").concat(message));} else {log(message.slice(LOG_MARKER.length));}}log(\"\".concat(prefix, \" trace start\"));if (trace) {trace();}log(\"\".concat(prefix, \" trace end\"));} catch (e) {// try catch for Edge 15// In according to this issue https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/14495220/// console.log throws an error} // This is necessary for unit-tests only!if (typeof window.__debug === 'function') {window.__debug(source);}};var updatedArgs = args ? [].concat(source).concat(args) : [source];try {removeCookie.apply(this, updatedArgs);} catch (e) {console.log(e);}}}"
        },
        {
            "names": [
                "prevent-addEventListener",
                "addEventListener-defuser.js",
                "ubo-addEventListener-defuser.js",
                "aeld.js",
                "ubo-aeld.js",
                "ubo-addEventListener-defuser",
                "ubo-aeld"
            ],
            "scriptlet": "function(source, args){function preventAddEventListener(source, args) {function preventAddEventListener(source, typeSearch, listenerSearch) {var typeSearchRegexp = toRegExp(typeSearch);var listenerSearchRegexp = toRegExp(listenerSearch);var nativeAddEventListener = window.EventTarget.prototype.addEventListener;function addEventListenerWrapper(type, listener) {var shouldPrevent = false;if (validateType(type) && validateListener(listener)) {shouldPrevent = typeSearchRegexp.test(type.toString()) && listenerSearchRegexp.test(listenerToString(listener));}if (shouldPrevent) {hit(source);return undefined;}for (var _len7 = arguments.length, args = new Array(_len7 > 2 ? _len7 - 2 : 0), _key7 = 2; _key7 < _len7; _key7++) {args[_key7 - 2] = arguments[_key7];}return nativeAddEventListener.apply(this, [type, listener].concat(args));}window.EventTarget.prototype.addEventListener = addEventListenerWrapper; // https://github.com/AdguardTeam/Scriptlets/issues/143window.addEventListener = addEventListenerWrapper;document.addEventListener = addEventListenerWrapper;}function hit(source, message) {if (source.verbose !== true) {return;}try {var log = console.log.bind(console);var trace = console.trace.bind(console); // eslint-disable-line compat/compatvar prefix = source.ruleText || '';if (source.domainName) {var AG_SCRIPTLET_MARKER = '#%#//';var UBO_SCRIPTLET_MARKER = '##+js';var ruleStartIndex;if (source.ruleText.indexOf(AG_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(AG_SCRIPTLET_MARKER);} else if (source.ruleText.indexOf(UBO_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(UBO_SCRIPTLET_MARKER);} // delete all domains from ruleText and leave just rule partvar rulePart = source.ruleText.slice(ruleStartIndex); // prepare applied scriptlet rule for specific domainprefix = \"\".concat(source.domainName).concat(rulePart);} // Used to check if scriptlet uses 'hit' function for loggingvar LOG_MARKER = 'log: ';if (message) {if (message.indexOf(LOG_MARKER) === -1) {log(\"\".concat(prefix, \" message:\\n\").concat(message));} else {log(message.slice(LOG_MARKER.length));}}log(\"\".concat(prefix, \" trace start\"));if (trace) {trace();}log(\"\".concat(prefix, \" trace end\"));} catch (e) {// try catch for Edge 15// In according to this issue https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/14495220/// console.log throws an error} // This is necessary for unit-tests only!if (typeof window.__debug === 'function') {window.__debug(source);}}function toRegExp() {var input = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';var DEFAULT_VALUE = '.?';var FORWARD_SLASH = '/';if (input === '') {return new RegExp(DEFAULT_VALUE);}if (input[0] === FORWARD_SLASH && input[input.length - 1] === FORWARD_SLASH) {return new RegExp(input.slice(1, -1));}var escaped = input.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');return new RegExp(escaped);}function validateType(type) {// https://github.com/AdguardTeam/Scriptlets/issues/125return typeof type !== 'undefined';}function validateListener(listener) {// https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#parametersreturn typeof listener !== 'undefined' && (typeof listener === 'function' || typeof listener === 'object' // https://github.com/AdguardTeam/Scriptlets/issues/76&& listener !== null && typeof listener.handleEvent === 'function');}function listenerToString(listener) {return typeof listener === 'function' ? listener.toString() : listener.handleEvent.toString();};var updatedArgs = args ? [].concat(source).concat(args) : [source];try {preventAddEventListener.apply(this, updatedArgs);} catch (e) {console.log(e);}}}"
        },
        {
            "names": [
                "prevent-bab",
                "nobab.js",
                "ubo-nobab.js",
                "bab-defuser.js",
                "ubo-bab-defuser.js",
                "ubo-nobab",
                "ubo-bab-defuser"
            ],
            "scriptlet": "function(source, args){function preventBab(source, args) {function preventBab(source) {var nativeSetTimeout = window.setTimeout;var babRegex = /\\.bab_elementid.$/;var timeoutWrapper = function timeoutWrapper(callback) {if (typeof callback !== 'string' || !babRegex.test(callback)) {for (var _len8 = arguments.length, args = new Array(_len8 > 1 ? _len8 - 1 : 0), _key8 = 1; _key8 < _len8; _key8++) {args[_key8 - 1] = arguments[_key8];}return nativeSetTimeout.apply(window, [callback].concat(args));}hit(source);};window.setTimeout = timeoutWrapper;var signatures = [['blockadblock'], ['babasbm'], [/getItem\\('babn'\\)/], ['getElementById', 'String.fromCharCode', 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789', 'charAt', 'DOMContentLoaded', 'AdBlock', 'addEventListener', 'doScroll', 'fromCharCode', '<<2|r>>4', 'sessionStorage', 'clientWidth', 'localStorage', 'Math', 'random']];var check = function check(str) {if (typeof str !== 'string') {return false;}for (var i = 0; i < signatures.length; i += 1) {var tokens = signatures[i];var match = 0;for (var j = 0; j < tokens.length; j += 1) {var token = tokens[j];var found = token instanceof RegExp ? token.test(str) : str.indexOf(token) > -1;if (found) {match += 1;}}if (match / tokens.length >= 0.8) {return true;}}return false;};var nativeEval = window.eval;var evalWrapper = function evalWrapper(str) {if (!check(str)) {return nativeEval(str);}hit(source);var bodyEl = document.body;if (bodyEl) {bodyEl.style.removeProperty('visibility');}var el = document.getElementById('babasbmsgx');if (el) {el.parentNode.removeChild(el);}};window.eval = evalWrapper.bind(window);}function hit(source, message) {if (source.verbose !== true) {return;}try {var log = console.log.bind(console);var trace = console.trace.bind(console); // eslint-disable-line compat/compatvar prefix = source.ruleText || '';if (source.domainName) {var AG_SCRIPTLET_MARKER = '#%#//';var UBO_SCRIPTLET_MARKER = '##+js';var ruleStartIndex;if (source.ruleText.indexOf(AG_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(AG_SCRIPTLET_MARKER);} else if (source.ruleText.indexOf(UBO_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(UBO_SCRIPTLET_MARKER);} // delete all domains from ruleText and leave just rule partvar rulePart = source.ruleText.slice(ruleStartIndex); // prepare applied scriptlet rule for specific domainprefix = \"\".concat(source.domainName).concat(rulePart);} // Used to check if scriptlet uses 'hit' function for loggingvar LOG_MARKER = 'log: ';if (message) {if (message.indexOf(LOG_MARKER) === -1) {log(\"\".concat(prefix, \" message:\\n\").concat(message));} else {log(message.slice(LOG_MARKER.length));}}log(\"\".concat(prefix, \" trace start\"));if (trace) {trace();}log(\"\".concat(prefix, \" trace end\"));} catch (e) {// try catch for Edge 15// In according to this issue https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/14495220/// console.log throws an error} // This is necessary for unit-tests only!if (typeof window.__debug === 'function') {window.__debug(source);}};var updatedArgs = args ? [].concat(source).concat(args) : [source];try {preventBab.apply(this, updatedArgs);} catch (e) {console.log(e);}}}"
        },
        {
            "names": [
                "nowebrtc",
                "nowebrtc.js",
                "ubo-nowebrtc.js",
                "ubo-nowebrtc"
            ],
            "scriptlet": "function(source, args){function nowebrtc(source, args) {function nowebrtc(source) {var propertyName = '';if (window.RTCPeerConnection) {propertyName = 'RTCPeerConnection';} else if (window.webkitRTCPeerConnection) {propertyName = 'webkitRTCPeerConnection';}if (propertyName === '') {return;}var rtcReplacement = function rtcReplacement(config) {// eslint-disable-next-line max-lenhit(source, \"Document tried to create an RTCPeerConnection: \".concat(convertRtcConfigToString(config)));};rtcReplacement.prototype = {close: noopFunc,createDataChannel: noopFunc,createOffer: noopFunc,setRemoteDescription: noopFunc};var rtc = window[propertyName];window[propertyName] = rtcReplacement;if (rtc.prototype) {rtc.prototype.createDataChannel = function (a, b) {return {close: noopFunc,send: noopFunc};}.bind(null);}}function hit(source, message) {if (source.verbose !== true) {return;}try {var log = console.log.bind(console);var trace = console.trace.bind(console); // eslint-disable-line compat/compatvar prefix = source.ruleText || '';if (source.domainName) {var AG_SCRIPTLET_MARKER = '#%#//';var UBO_SCRIPTLET_MARKER = '##+js';var ruleStartIndex;if (source.ruleText.indexOf(AG_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(AG_SCRIPTLET_MARKER);} else if (source.ruleText.indexOf(UBO_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(UBO_SCRIPTLET_MARKER);} // delete all domains from ruleText and leave just rule partvar rulePart = source.ruleText.slice(ruleStartIndex); // prepare applied scriptlet rule for specific domainprefix = \"\".concat(source.domainName).concat(rulePart);} // Used to check if scriptlet uses 'hit' function for loggingvar LOG_MARKER = 'log: ';if (message) {if (message.indexOf(LOG_MARKER) === -1) {log(\"\".concat(prefix, \" message:\\n\").concat(message));} else {log(message.slice(LOG_MARKER.length));}}log(\"\".concat(prefix, \" trace start\"));if (trace) {trace();}log(\"\".concat(prefix, \" trace end\"));} catch (e) {// try catch for Edge 15// In according to this issue https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/14495220/// console.log throws an error} // This is necessary for unit-tests only!if (typeof window.__debug === 'function') {window.__debug(source);}}function noopFunc() {}function convertRtcConfigToString(config) {var UNDEF_STR = 'undefined';var str = UNDEF_STR;if (config === null) {str = 'null';} else if (config instanceof Object) {var SERVERS_PROP_NAME = 'iceServers';var URLS_PROP_NAME = 'urls';/*const exampleConfig = {'iceServers': ['urls': ['stun:35.66.206.188:443'],],};*/if (Object.prototype.hasOwnProperty.call(config, SERVERS_PROP_NAME) && Object.prototype.hasOwnProperty.call(config[SERVERS_PROP_NAME][0], URLS_PROP_NAME) && !!config[SERVERS_PROP_NAME][0][URLS_PROP_NAME]) {str = config[SERVERS_PROP_NAME][0][URLS_PROP_NAME].toString();}}return str;};var updatedArgs = args ? [].concat(source).concat(args) : [source];try {nowebrtc.apply(this, updatedArgs);} catch (e) {console.log(e);}}}"
        },
        {
            "names": [
                "log-addEventListener",
                "addEventListener-logger.js",
                "ubo-addEventListener-logger.js",
                "aell.js",
                "ubo-aell.js",
                "ubo-addEventListener-logger",
                "ubo-aell"
            ],
            "scriptlet": "function(source, args){function logAddEventListener(source, args) {function logAddEventListener(source) {// eslint-disable-next-line no-consolevar log = console.log.bind(console);var nativeAddEventListener = window.EventTarget.prototype.addEventListener;function addEventListenerWrapper(type, listener) {if (validateType(type) && validateListener(listener)) {var logMessage = \"addEventListener(\\\"\".concat(type, \"\\\", \").concat(listenerToString(listener), \")\");log(logMessage);hit(source);} else if (source.verbose) {// logging while debuggingvar _logMessage = \"Invalid event type or listener passed to addEventListener:\\ntype: \".concat(convertTypeToString(type), \"\\nlistener: \").concat(convertTypeToString(listener));log(_logMessage);}for (var _len9 = arguments.length, args = new Array(_len9 > 2 ? _len9 - 2 : 0), _key9 = 2; _key9 < _len9; _key9++) {args[_key9 - 2] = arguments[_key9];}return nativeAddEventListener.apply(this, [type, listener].concat(args));}window.EventTarget.prototype.addEventListener = addEventListenerWrapper;}function hit(source, message) {if (source.verbose !== true) {return;}try {var log = console.log.bind(console);var trace = console.trace.bind(console); // eslint-disable-line compat/compatvar prefix = source.ruleText || '';if (source.domainName) {var AG_SCRIPTLET_MARKER = '#%#//';var UBO_SCRIPTLET_MARKER = '##+js';var ruleStartIndex;if (source.ruleText.indexOf(AG_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(AG_SCRIPTLET_MARKER);} else if (source.ruleText.indexOf(UBO_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(UBO_SCRIPTLET_MARKER);} // delete all domains from ruleText and leave just rule partvar rulePart = source.ruleText.slice(ruleStartIndex); // prepare applied scriptlet rule for specific domainprefix = \"\".concat(source.domainName).concat(rulePart);} // Used to check if scriptlet uses 'hit' function for loggingvar LOG_MARKER = 'log: ';if (message) {if (message.indexOf(LOG_MARKER) === -1) {log(\"\".concat(prefix, \" message:\\n\").concat(message));} else {log(message.slice(LOG_MARKER.length));}}log(\"\".concat(prefix, \" trace start\"));if (trace) {trace();}log(\"\".concat(prefix, \" trace end\"));} catch (e) {// try catch for Edge 15// In according to this issue https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/14495220/// console.log throws an error} // This is necessary for unit-tests only!if (typeof window.__debug === 'function') {window.__debug(source);}}function validateType(type) {// https://github.com/AdguardTeam/Scriptlets/issues/125return typeof type !== 'undefined';}function validateListener(listener) {// https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#parametersreturn typeof listener !== 'undefined' && (typeof listener === 'function' || typeof listener === 'object' // https://github.com/AdguardTeam/Scriptlets/issues/76&& listener !== null && typeof listener.handleEvent === 'function');}function listenerToString(listener) {return typeof listener === 'function' ? listener.toString() : listener.handleEvent.toString();}function convertTypeToString(value) {var output;if (typeof value === 'undefined') {output = 'undefined';} else if (typeof value === 'object') {if (value === null) {output = 'null';} else {output = objectToString(value);}} else {output = value.toString();}return output;}function objectToString(obj) {return (0, _objectUtils.isEmptyObject)(obj) ? '{}' : (0, _objectUtils.getObjectEntries)(obj).map(function (pair) {var key = pair[0];var value = pair[1];var recordValueStr = value;if (value instanceof Object) {recordValueStr = \"{ \".concat(objectToString(value), \" }\");}return \"\".concat(key, \":\\\"\").concat(recordValueStr, \"\\\"\");}).join(' ');}function isEmptyObject(obj) {return Object.keys(obj).length === 0;}function getObjectEntries(object) {var keys = Object.keys(object);var entries = [];keys.forEach(function (key) {return entries.push([key, object[key]]);});return entries;};var updatedArgs = args ? [].concat(source).concat(args) : [source];try {logAddEventListener.apply(this, updatedArgs);} catch (e) {console.log(e);}}}"
        },
        {
            "names": [
                "log-eval"
            ],
            "scriptlet": "function(source, args){function logEval(source, args) {function logEval(source) {var log = console.log.bind(console); // wrap eval functionvar nativeEval = window.eval;function evalWrapper(str) {hit(source);log(\"eval(\\\"\".concat(str, \"\\\")\"));return nativeEval(str);}window.eval = evalWrapper; // wrap new Functionvar nativeFunction = window.Function;function FunctionWrapper() {hit(source);for (var _len10 = arguments.length, args = new Array(_len10), _key10 = 0; _key10 < _len10; _key10++) {args[_key10] = arguments[_key10];}log(\"new Function(\".concat(args.join(', '), \")\"));return nativeFunction.apply(this, [].concat(args));}FunctionWrapper.prototype = Object.create(nativeFunction.prototype);FunctionWrapper.prototype.constructor = FunctionWrapper;window.Function = FunctionWrapper;}function hit(source, message) {if (source.verbose !== true) {return;}try {var log = console.log.bind(console);var trace = console.trace.bind(console); // eslint-disable-line compat/compatvar prefix = source.ruleText || '';if (source.domainName) {var AG_SCRIPTLET_MARKER = '#%#//';var UBO_SCRIPTLET_MARKER = '##+js';var ruleStartIndex;if (source.ruleText.indexOf(AG_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(AG_SCRIPTLET_MARKER);} else if (source.ruleText.indexOf(UBO_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(UBO_SCRIPTLET_MARKER);} // delete all domains from ruleText and leave just rule partvar rulePart = source.ruleText.slice(ruleStartIndex); // prepare applied scriptlet rule for specific domainprefix = \"\".concat(source.domainName).concat(rulePart);} // Used to check if scriptlet uses 'hit' function for loggingvar LOG_MARKER = 'log: ';if (message) {if (message.indexOf(LOG_MARKER) === -1) {log(\"\".concat(prefix, \" message:\\n\").concat(message));} else {log(message.slice(LOG_MARKER.length));}}log(\"\".concat(prefix, \" trace start\"));if (trace) {trace();}log(\"\".concat(prefix, \" trace end\"));} catch (e) {// try catch for Edge 15// In according to this issue https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/14495220/// console.log throws an error} // This is necessary for unit-tests only!if (typeof window.__debug === 'function') {window.__debug(source);}};var updatedArgs = args ? [].concat(source).concat(args) : [source];try {logEval.apply(this, updatedArgs);} catch (e) {console.log(e);}}}"
        },
        {
            "names": [
                "log"
            ],
            "scriptlet": "function(source, args){function log(source, args) {function log() {for (var _len11 = arguments.length, args = new Array(_len11), _key11 = 0; _key11 < _len11; _key11++) {args[_key11] = arguments[_key11];}console.log(args); // eslint-disable-line no-console};var updatedArgs = args ? [].concat(source).concat(args) : [source];try {log.apply(this, updatedArgs);} catch (e) {console.log(e);}}}"
        },
        {
            "names": [
                "noeval",
                "noeval.js",
                "silent-noeval.js",
                "ubo-noeval.js",
                "ubo-silent-noeval.js",
                "ubo-noeval",
                "ubo-silent-noeval"
            ],
            "scriptlet": "function(source, args){function noeval(source, args) {function noeval(source) {window.eval = function evalWrapper(s) {hit(source, \"AdGuard has prevented eval:\\n\".concat(s));}.bind();}function hit(source, message) {if (source.verbose !== true) {return;}try {var log = console.log.bind(console);var trace = console.trace.bind(console); // eslint-disable-line compat/compatvar prefix = source.ruleText || '';if (source.domainName) {var AG_SCRIPTLET_MARKER = '#%#//';var UBO_SCRIPTLET_MARKER = '##+js';var ruleStartIndex;if (source.ruleText.indexOf(AG_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(AG_SCRIPTLET_MARKER);} else if (source.ruleText.indexOf(UBO_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(UBO_SCRIPTLET_MARKER);} // delete all domains from ruleText and leave just rule partvar rulePart = source.ruleText.slice(ruleStartIndex); // prepare applied scriptlet rule for specific domainprefix = \"\".concat(source.domainName).concat(rulePart);} // Used to check if scriptlet uses 'hit' function for loggingvar LOG_MARKER = 'log: ';if (message) {if (message.indexOf(LOG_MARKER) === -1) {log(\"\".concat(prefix, \" message:\\n\").concat(message));} else {log(message.slice(LOG_MARKER.length));}}log(\"\".concat(prefix, \" trace start\"));if (trace) {trace();}log(\"\".concat(prefix, \" trace end\"));} catch (e) {// try catch for Edge 15// In according to this issue https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/14495220/// console.log throws an error} // This is necessary for unit-tests only!if (typeof window.__debug === 'function') {window.__debug(source);}};var updatedArgs = args ? [].concat(source).concat(args) : [source];try {noeval.apply(this, updatedArgs);} catch (e) {console.log(e);}}}"
        },
        {
            "names": [
                "prevent-eval-if",
                "noeval-if.js",
                "ubo-noeval-if.js",
                "ubo-noeval-if"
            ],
            "scriptlet": "function(source, args){function preventEvalIf(source, args) {function preventEvalIf(source, search) {var searchRegexp = toRegExp(search);var nativeEval = window.eval;window.eval = function (payload) {if (!searchRegexp.test(payload.toString())) {return nativeEval.call(window, payload);}hit(source, payload);return undefined;}.bind(window);}function toRegExp() {var input = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';var DEFAULT_VALUE = '.?';var FORWARD_SLASH = '/';if (input === '') {return new RegExp(DEFAULT_VALUE);}if (input[0] === FORWARD_SLASH && input[input.length - 1] === FORWARD_SLASH) {return new RegExp(input.slice(1, -1));}var escaped = input.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');return new RegExp(escaped);}function hit(source, message) {if (source.verbose !== true) {return;}try {var log = console.log.bind(console);var trace = console.trace.bind(console); // eslint-disable-line compat/compatvar prefix = source.ruleText || '';if (source.domainName) {var AG_SCRIPTLET_MARKER = '#%#//';var UBO_SCRIPTLET_MARKER = '##+js';var ruleStartIndex;if (source.ruleText.indexOf(AG_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(AG_SCRIPTLET_MARKER);} else if (source.ruleText.indexOf(UBO_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(UBO_SCRIPTLET_MARKER);} // delete all domains from ruleText and leave just rule partvar rulePart = source.ruleText.slice(ruleStartIndex); // prepare applied scriptlet rule for specific domainprefix = \"\".concat(source.domainName).concat(rulePart);} // Used to check if scriptlet uses 'hit' function for loggingvar LOG_MARKER = 'log: ';if (message) {if (message.indexOf(LOG_MARKER) === -1) {log(\"\".concat(prefix, \" message:\\n\").concat(message));} else {log(message.slice(LOG_MARKER.length));}}log(\"\".concat(prefix, \" trace start\"));if (trace) {trace();}log(\"\".concat(prefix, \" trace end\"));} catch (e) {// try catch for Edge 15// In according to this issue https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/14495220/// console.log throws an error} // This is necessary for unit-tests only!if (typeof window.__debug === 'function') {window.__debug(source);}};var updatedArgs = args ? [].concat(source).concat(args) : [source];try {preventEvalIf.apply(this, updatedArgs);} catch (e) {console.log(e);}}}"
        },
        {
            "names": [
                "prevent-fab-3.2.0",
                "nofab.js",
                "ubo-nofab.js",
                "fuckadblock.js-3.2.0",
                "ubo-fuckadblock.js-3.2.0",
                "ubo-nofab"
            ],
            "scriptlet": "function(source, args){function preventFab(source, args) {function preventFab(source) {hit(source); // redefines Fab function for adblock detectionvar Fab = function Fab() {};Fab.prototype.check = noopFunc;Fab.prototype.clearEvent = noopFunc;Fab.prototype.emitEvent = noopFunc;Fab.prototype.on = function (a, b) {if (!a) {b();}return this;};Fab.prototype.onDetected = noopThis;Fab.prototype.onNotDetected = function (a) {a();return this;};Fab.prototype.setOption = noopFunc;Fab.prototype.options = {set: noopFunc,get: noopFunc};var fab = new Fab();var getSetFab = {get: function get() {return Fab;},set: function set() {}};var getsetfab = {get: function get() {return fab;},set: function set() {}}; // redefined Fab data properties which if 'FuckAdBlock' variable existsif (Object.prototype.hasOwnProperty.call(window, 'FuckAdBlock')) {window.FuckAdBlock = Fab;} else {// or redefined Fab accessor propertiesObject.defineProperty(window, 'FuckAdBlock', getSetFab);}if (Object.prototype.hasOwnProperty.call(window, 'BlockAdBlock')) {window.BlockAdBlock = Fab;} else {Object.defineProperty(window, 'BlockAdBlock', getSetFab);}if (Object.prototype.hasOwnProperty.call(window, 'SniffAdBlock')) {window.SniffAdBlock = Fab;} else {Object.defineProperty(window, 'SniffAdBlock', getSetFab);}if (Object.prototype.hasOwnProperty.call(window, 'fuckAdBlock')) {window.fuckAdBlock = fab;} else {Object.defineProperty(window, 'fuckAdBlock', getsetfab);}if (Object.prototype.hasOwnProperty.call(window, 'blockAdBlock')) {window.blockAdBlock = fab;} else {Object.defineProperty(window, 'blockAdBlock', getsetfab);}if (Object.prototype.hasOwnProperty.call(window, 'sniffAdBlock')) {window.sniffAdBlock = fab;} else {Object.defineProperty(window, 'sniffAdBlock', getsetfab);}}function hit(source, message) {if (source.verbose !== true) {return;}try {var log = console.log.bind(console);var trace = console.trace.bind(console); // eslint-disable-line compat/compatvar prefix = source.ruleText || '';if (source.domainName) {var AG_SCRIPTLET_MARKER = '#%#//';var UBO_SCRIPTLET_MARKER = '##+js';var ruleStartIndex;if (source.ruleText.indexOf(AG_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(AG_SCRIPTLET_MARKER);} else if (source.ruleText.indexOf(UBO_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(UBO_SCRIPTLET_MARKER);} // delete all domains from ruleText and leave just rule partvar rulePart = source.ruleText.slice(ruleStartIndex); // prepare applied scriptlet rule for specific domainprefix = \"\".concat(source.domainName).concat(rulePart);} // Used to check if scriptlet uses 'hit' function for loggingvar LOG_MARKER = 'log: ';if (message) {if (message.indexOf(LOG_MARKER) === -1) {log(\"\".concat(prefix, \" message:\\n\").concat(message));} else {log(message.slice(LOG_MARKER.length));}}log(\"\".concat(prefix, \" trace start\"));if (trace) {trace();}log(\"\".concat(prefix, \" trace end\"));} catch (e) {// try catch for Edge 15// In according to this issue https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/14495220/// console.log throws an error} // This is necessary for unit-tests only!if (typeof window.__debug === 'function') {window.__debug(source);}}function noopFunc() {}function noopThis() {return this;};var updatedArgs = args ? [].concat(source).concat(args) : [source];try {preventFab.apply(this, updatedArgs);} catch (e) {console.log(e);}}}"
        },
        {
            "names": [
                "set-popads-dummy",
                "popads-dummy.js",
                "ubo-popads-dummy.js",
                "ubo-popads-dummy"
            ],
            "scriptlet": "function(source, args){function setPopadsDummy(source, args) {function setPopadsDummy(source) {delete window.PopAds;delete window.popns;Object.defineProperties(window, {PopAds: {get: function get() {hit(source);return {};}},popns: {get: function get() {hit(source);return {};}}});}function hit(source, message) {if (source.verbose !== true) {return;}try {var log = console.log.bind(console);var trace = console.trace.bind(console); // eslint-disable-line compat/compatvar prefix = source.ruleText || '';if (source.domainName) {var AG_SCRIPTLET_MARKER = '#%#//';var UBO_SCRIPTLET_MARKER = '##+js';var ruleStartIndex;if (source.ruleText.indexOf(AG_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(AG_SCRIPTLET_MARKER);} else if (source.ruleText.indexOf(UBO_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(UBO_SCRIPTLET_MARKER);} // delete all domains from ruleText and leave just rule partvar rulePart = source.ruleText.slice(ruleStartIndex); // prepare applied scriptlet rule for specific domainprefix = \"\".concat(source.domainName).concat(rulePart);} // Used to check if scriptlet uses 'hit' function for loggingvar LOG_MARKER = 'log: ';if (message) {if (message.indexOf(LOG_MARKER) === -1) {log(\"\".concat(prefix, \" message:\\n\").concat(message));} else {log(message.slice(LOG_MARKER.length));}}log(\"\".concat(prefix, \" trace start\"));if (trace) {trace();}log(\"\".concat(prefix, \" trace end\"));} catch (e) {// try catch for Edge 15// In according to this issue https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/14495220/// console.log throws an error} // This is necessary for unit-tests only!if (typeof window.__debug === 'function') {window.__debug(source);}};var updatedArgs = args ? [].concat(source).concat(args) : [source];try {setPopadsDummy.apply(this, updatedArgs);} catch (e) {console.log(e);}}}"
        },
        {
            "names": [
                "prevent-popads-net",
                "popads.net.js",
                "ubo-popads.net.js",
                "ubo-popads.net"
            ],
            "scriptlet": "function(source, args){function preventPopadsNet(source, args) {function preventPopadsNet(source) {var rid = randomId();var throwError = function throwError() {throw new ReferenceError(rid);};delete window.PopAds;delete window.popns;Object.defineProperties(window, {PopAds: {set: throwError},popns: {set: throwError}});window.onerror = createOnErrorHandler(rid).bind();hit(source);}function createOnErrorHandler(rid) {// eslint-disable-next-line consistent-returnvar nativeOnError = window.onerror;return function onError(error) {if (typeof error === 'string' && error.indexOf(rid) !== -1) {return true;}if (nativeOnError instanceof Function) {for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {args[_key - 1] = arguments[_key];}return nativeOnError.apply(this, [error].concat(args));}return false;};}function randomId() {return Math.random().toString(36).substr(2, 9);}function hit(source, message) {if (source.verbose !== true) {return;}try {var log = console.log.bind(console);var trace = console.trace.bind(console); // eslint-disable-line compat/compatvar prefix = source.ruleText || '';if (source.domainName) {var AG_SCRIPTLET_MARKER = '#%#//';var UBO_SCRIPTLET_MARKER = '##+js';var ruleStartIndex;if (source.ruleText.indexOf(AG_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(AG_SCRIPTLET_MARKER);} else if (source.ruleText.indexOf(UBO_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(UBO_SCRIPTLET_MARKER);} // delete all domains from ruleText and leave just rule partvar rulePart = source.ruleText.slice(ruleStartIndex); // prepare applied scriptlet rule for specific domainprefix = \"\".concat(source.domainName).concat(rulePart);} // Used to check if scriptlet uses 'hit' function for loggingvar LOG_MARKER = 'log: ';if (message) {if (message.indexOf(LOG_MARKER) === -1) {log(\"\".concat(prefix, \" message:\\n\").concat(message));} else {log(message.slice(LOG_MARKER.length));}}log(\"\".concat(prefix, \" trace start\"));if (trace) {trace();}log(\"\".concat(prefix, \" trace end\"));} catch (e) {// try catch for Edge 15// In according to this issue https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/14495220/// console.log throws an error} // This is necessary for unit-tests only!if (typeof window.__debug === 'function') {window.__debug(source);}};var updatedArgs = args ? [].concat(source).concat(args) : [source];try {preventPopadsNet.apply(this, updatedArgs);} catch (e) {console.log(e);}}}"
        },
        {
            "names": [
                "prevent-adfly",
                "adfly-defuser.js",
                "ubo-adfly-defuser.js",
                "ubo-adfly-defuser"
            ],
            "scriptlet": "function(source, args){function preventAdfly(source, args) {function preventAdfly(source) {var isDigit = function isDigit(data) {return /^\\d$/.test(data);};var handler = function handler(encodedURL) {var evenChars = '';var oddChars = '';for (var i = 0; i < encodedURL.length; i += 1) {if (i % 2 === 0) {evenChars += encodedURL.charAt(i);} else {oddChars = encodedURL.charAt(i) + oddChars;}}var data = (evenChars + oddChars).split('');for (var _i = 0; _i < data.length; _i += 1) {if (isDigit(data[_i])) {for (var ii = _i + 1; ii < data.length; ii += 1) {if (isDigit(data[ii])) {// eslint-disable-next-line no-bitwisevar temp = parseInt(data[_i], 10) ^ parseInt(data[ii], 10);if (temp < 10) {data[_i] = temp.toString();}_i = ii;break;}}}}data = data.join('');var decodedURL = window.atob(data).slice(16, -16);/* eslint-disable compat/compat */if (window.stop) {window.stop();}/* eslint-enable compat/compat */window.onbeforeunload = null;window.location.href = decodedURL;};var val; // Do not apply handler more than one timevar applyHandler = true;var result = setPropertyAccess(window, 'ysmm', {configurable: false,set: function set(value) {if (applyHandler) {applyHandler = false;try {if (typeof value === 'string') {handler(value);}} catch (err) {} // eslint-disable-line no-empty}val = value;},get: function get() {return val;}});if (result) {hit(source);} else {window.console.error('Failed to set up prevent-adfly scriptlet');}}function setPropertyAccess(object, property, descriptor) {var currentDescriptor = Object.getOwnPropertyDescriptor(object, property);if (currentDescriptor && !currentDescriptor.configurable) {return false;}Object.defineProperty(object, property, descriptor);return true;}function hit(source, message) {if (source.verbose !== true) {return;}try {var log = console.log.bind(console);var trace = console.trace.bind(console); // eslint-disable-line compat/compatvar prefix = source.ruleText || '';if (source.domainName) {var AG_SCRIPTLET_MARKER = '#%#//';var UBO_SCRIPTLET_MARKER = '##+js';var ruleStartIndex;if (source.ruleText.indexOf(AG_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(AG_SCRIPTLET_MARKER);} else if (source.ruleText.indexOf(UBO_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(UBO_SCRIPTLET_MARKER);} // delete all domains from ruleText and leave just rule partvar rulePart = source.ruleText.slice(ruleStartIndex); // prepare applied scriptlet rule for specific domainprefix = \"\".concat(source.domainName).concat(rulePart);} // Used to check if scriptlet uses 'hit' function for loggingvar LOG_MARKER = 'log: ';if (message) {if (message.indexOf(LOG_MARKER) === -1) {log(\"\".concat(prefix, \" message:\\n\").concat(message));} else {log(message.slice(LOG_MARKER.length));}}log(\"\".concat(prefix, \" trace start\"));if (trace) {trace();}log(\"\".concat(prefix, \" trace end\"));} catch (e) {// try catch for Edge 15// In according to this issue https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/14495220/// console.log throws an error} // This is necessary for unit-tests only!if (typeof window.__debug === 'function') {window.__debug(source);}};var updatedArgs = args ? [].concat(source).concat(args) : [source];try {preventAdfly.apply(this, updatedArgs);} catch (e) {console.log(e);}}}"
        },
        {
            "names": [
                "debug-on-property-read"
            ],
            "scriptlet": "function(source, args){function debugOnPropertyRead(source, args) {function debugOnPropertyRead(source, property) {if (!property) {return;}var rid = randomId();var abort = function abort() {hit(source);debugger; // eslint-disable-line no-debugger};var setChainPropAccess = function setChainPropAccess(owner, property) {var chainInfo = getPropertyInChain(owner, property);var base = chainInfo.base;var prop = chainInfo.prop,chain = chainInfo.chain;if (chain) {var setter = function setter(a) {base = a;if (a instanceof Object) {setChainPropAccess(a, chain);}};Object.defineProperty(owner, prop, {get: function get() {return base;},set: setter});return;}setPropertyAccess(base, prop, {get: abort,set: noopFunc});};setChainPropAccess(window, property);window.onerror = createOnErrorHandler(rid).bind();}function randomId() {return Math.random().toString(36).substr(2, 9);}function setPropertyAccess(object, property, descriptor) {var currentDescriptor = Object.getOwnPropertyDescriptor(object, property);if (currentDescriptor && !currentDescriptor.configurable) {return false;}Object.defineProperty(object, property, descriptor);return true;}function getPropertyInChain(base, chain) {var pos = chain.indexOf('.');if (pos === -1) {return {base: base,prop: chain};}var prop = chain.slice(0, pos); // https://github.com/AdguardTeam/Scriptlets/issues/128if (base === null) {// if base is null, return 'null' as base.// it's needed for triggering the reason logging while debuggingreturn {base: base,prop: prop,chain: chain};}var nextBase = base[prop];chain = chain.slice(pos + 1);if (nextBase !== undefined) {return getPropertyInChain(nextBase, chain);}Object.defineProperty(base, prop, {configurable: true});return {base: nextBase,prop: prop,chain: chain};}function createOnErrorHandler(rid) {// eslint-disable-next-line consistent-returnvar nativeOnError = window.onerror;return function onError(error) {if (typeof error === 'string' && error.indexOf(rid) !== -1) {return true;}if (nativeOnError instanceof Function) {for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {args[_key - 1] = arguments[_key];}return nativeOnError.apply(this, [error].concat(args));}return false;};}function hit(source, message) {if (source.verbose !== true) {return;}try {var log = console.log.bind(console);var trace = console.trace.bind(console); // eslint-disable-line compat/compatvar prefix = source.ruleText || '';if (source.domainName) {var AG_SCRIPTLET_MARKER = '#%#//';var UBO_SCRIPTLET_MARKER = '##+js';var ruleStartIndex;if (source.ruleText.indexOf(AG_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(AG_SCRIPTLET_MARKER);} else if (source.ruleText.indexOf(UBO_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(UBO_SCRIPTLET_MARKER);} // delete all domains from ruleText and leave just rule partvar rulePart = source.ruleText.slice(ruleStartIndex); // prepare applied scriptlet rule for specific domainprefix = \"\".concat(source.domainName).concat(rulePart);} // Used to check if scriptlet uses 'hit' function for loggingvar LOG_MARKER = 'log: ';if (message) {if (message.indexOf(LOG_MARKER) === -1) {log(\"\".concat(prefix, \" message:\\n\").concat(message));} else {log(message.slice(LOG_MARKER.length));}}log(\"\".concat(prefix, \" trace start\"));if (trace) {trace();}log(\"\".concat(prefix, \" trace end\"));} catch (e) {// try catch for Edge 15// In according to this issue https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/14495220/// console.log throws an error} // This is necessary for unit-tests only!if (typeof window.__debug === 'function') {window.__debug(source);}}function noopFunc() {};var updatedArgs = args ? [].concat(source).concat(args) : [source];try {debugOnPropertyRead.apply(this, updatedArgs);} catch (e) {console.log(e);}}}"
        },
        {
            "names": [
                "debug-on-property-write"
            ],
            "scriptlet": "function(source, args){function debugOnPropertyWrite(source, args) {function debugOnPropertyWrite(source, property) {if (!property) {return;}var rid = randomId();var abort = function abort() {hit(source);debugger; // eslint-disable-line no-debugger};var setChainPropAccess = function setChainPropAccess(owner, property) {var chainInfo = getPropertyInChain(owner, property);var base = chainInfo.base;var prop = chainInfo.prop,chain = chainInfo.chain;if (chain) {var setter = function setter(a) {base = a;if (a instanceof Object) {setChainPropAccess(a, chain);}};Object.defineProperty(owner, prop, {get: function get() {return base;},set: setter});return;}setPropertyAccess(base, prop, {set: abort});};setChainPropAccess(window, property);window.onerror = createOnErrorHandler(rid).bind();}function randomId() {return Math.random().toString(36).substr(2, 9);}function setPropertyAccess(object, property, descriptor) {var currentDescriptor = Object.getOwnPropertyDescriptor(object, property);if (currentDescriptor && !currentDescriptor.configurable) {return false;}Object.defineProperty(object, property, descriptor);return true;}function getPropertyInChain(base, chain) {var pos = chain.indexOf('.');if (pos === -1) {return {base: base,prop: chain};}var prop = chain.slice(0, pos); // https://github.com/AdguardTeam/Scriptlets/issues/128if (base === null) {// if base is null, return 'null' as base.// it's needed for triggering the reason logging while debuggingreturn {base: base,prop: prop,chain: chain};}var nextBase = base[prop];chain = chain.slice(pos + 1);if (nextBase !== undefined) {return getPropertyInChain(nextBase, chain);}Object.defineProperty(base, prop, {configurable: true});return {base: nextBase,prop: prop,chain: chain};}function createOnErrorHandler(rid) {// eslint-disable-next-line consistent-returnvar nativeOnError = window.onerror;return function onError(error) {if (typeof error === 'string' && error.indexOf(rid) !== -1) {return true;}if (nativeOnError instanceof Function) {for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {args[_key - 1] = arguments[_key];}return nativeOnError.apply(this, [error].concat(args));}return false;};}function hit(source, message) {if (source.verbose !== true) {return;}try {var log = console.log.bind(console);var trace = console.trace.bind(console); // eslint-disable-line compat/compatvar prefix = source.ruleText || '';if (source.domainName) {var AG_SCRIPTLET_MARKER = '#%#//';var UBO_SCRIPTLET_MARKER = '##+js';var ruleStartIndex;if (source.ruleText.indexOf(AG_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(AG_SCRIPTLET_MARKER);} else if (source.ruleText.indexOf(UBO_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(UBO_SCRIPTLET_MARKER);} // delete all domains from ruleText and leave just rule partvar rulePart = source.ruleText.slice(ruleStartIndex); // prepare applied scriptlet rule for specific domainprefix = \"\".concat(source.domainName).concat(rulePart);} // Used to check if scriptlet uses 'hit' function for loggingvar LOG_MARKER = 'log: ';if (message) {if (message.indexOf(LOG_MARKER) === -1) {log(\"\".concat(prefix, \" message:\\n\").concat(message));} else {log(message.slice(LOG_MARKER.length));}}log(\"\".concat(prefix, \" trace start\"));if (trace) {trace();}log(\"\".concat(prefix, \" trace end\"));} catch (e) {// try catch for Edge 15// In according to this issue https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/14495220/// console.log throws an error} // This is necessary for unit-tests only!if (typeof window.__debug === 'function') {window.__debug(source);}};var updatedArgs = args ? [].concat(source).concat(args) : [source];try {debugOnPropertyWrite.apply(this, updatedArgs);} catch (e) {console.log(e);}}}"
        },
        {
            "names": [
                "debug-current-inline-script"
            ],
            "scriptlet": "function(source, args){function debugCurrentInlineScript(source, args) {function debugCurrentInlineScript(source, property, search) {var searchRegexp = toRegExp(search);var rid = randomId();var getCurrentScript = function getCurrentScript() {if ('currentScript' in document) {return document.currentScript; // eslint-disable-line compat/compat}var scripts = document.getElementsByTagName('script');return scripts[scripts.length - 1];};var ourScript = getCurrentScript();var abort = function abort() {var scriptEl = getCurrentScript();if (!scriptEl) {return;}var content = scriptEl.textContent; // We are using Node.prototype.textContent property descriptor// to get the real script content// even when document.currentScript.textContent is replaced.// https://github.com/AdguardTeam/Scriptlets/issues/57#issuecomment-593638991try {var textContentGetter = Object.getOwnPropertyDescriptor(Node.prototype, 'textContent').get;content = textContentGetter.call(scriptEl);} catch (e) {} // eslint-disable-line no-emptyif (scriptEl instanceof HTMLScriptElement && content.length > 0 && scriptEl !== ourScript && searchRegexp.test(content)) {hit(source);debugger; // eslint-disable-line no-debugger}};var setChainPropAccess = function setChainPropAccess(owner, property) {var chainInfo = getPropertyInChain(owner, property);var base = chainInfo.base;var prop = chainInfo.prop,chain = chainInfo.chain; // The scriptlet might be executed before the chain property has been created// (for instance, document.body before the HTML body was loaded).// In this case we're checking whether the base element exists or not// and if not, we simply exit without overriding anything.// e.g. https://github.com/AdguardTeam/Scriptlets/issues/57#issuecomment-575841092if (base instanceof Object === false && base === null) {var props = property.split('.');var propIndex = props.indexOf(prop);var baseName = props[propIndex - 1];console.log(\"The scriptlet had been executed before the \".concat(baseName, \" was loaded.\")); // eslint-disable-line no-console, max-lenreturn;}if (chain) {var setter = function setter(a) {base = a;if (a instanceof Object) {setChainPropAccess(a, chain);}};Object.defineProperty(owner, prop, {get: function get() {return base;},set: setter});return;}var currentValue = base[prop];setPropertyAccess(base, prop, {set: function set(value) {abort();currentValue = value;},get: function get() {abort();return currentValue;}});};setChainPropAccess(window, property);window.onerror = createOnErrorHandler(rid).bind();}function randomId() {return Math.random().toString(36).substr(2, 9);}function setPropertyAccess(object, property, descriptor) {var currentDescriptor = Object.getOwnPropertyDescriptor(object, property);if (currentDescriptor && !currentDescriptor.configurable) {return false;}Object.defineProperty(object, property, descriptor);return true;}function getPropertyInChain(base, chain) {var pos = chain.indexOf('.');if (pos === -1) {return {base: base,prop: chain};}var prop = chain.slice(0, pos); // https://github.com/AdguardTeam/Scriptlets/issues/128if (base === null) {// if base is null, return 'null' as base.// it's needed for triggering the reason logging while debuggingreturn {base: base,prop: prop,chain: chain};}var nextBase = base[prop];chain = chain.slice(pos + 1);if (nextBase !== undefined) {return getPropertyInChain(nextBase, chain);}Object.defineProperty(base, prop, {configurable: true});return {base: nextBase,prop: prop,chain: chain};}function toRegExp() {var input = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';var DEFAULT_VALUE = '.?';var FORWARD_SLASH = '/';if (input === '') {return new RegExp(DEFAULT_VALUE);}if (input[0] === FORWARD_SLASH && input[input.length - 1] === FORWARD_SLASH) {return new RegExp(input.slice(1, -1));}var escaped = input.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');return new RegExp(escaped);}function createOnErrorHandler(rid) {// eslint-disable-next-line consistent-returnvar nativeOnError = window.onerror;return function onError(error) {if (typeof error === 'string' && error.indexOf(rid) !== -1) {return true;}if (nativeOnError instanceof Function) {for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {args[_key - 1] = arguments[_key];}return nativeOnError.apply(this, [error].concat(args));}return false;};}function hit(source, message) {if (source.verbose !== true) {return;}try {var log = console.log.bind(console);var trace = console.trace.bind(console); // eslint-disable-line compat/compatvar prefix = source.ruleText || '';if (source.domainName) {var AG_SCRIPTLET_MARKER = '#%#//';var UBO_SCRIPTLET_MARKER = '##+js';var ruleStartIndex;if (source.ruleText.indexOf(AG_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(AG_SCRIPTLET_MARKER);} else if (source.ruleText.indexOf(UBO_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(UBO_SCRIPTLET_MARKER);} // delete all domains from ruleText and leave just rule partvar rulePart = source.ruleText.slice(ruleStartIndex); // prepare applied scriptlet rule for specific domainprefix = \"\".concat(source.domainName).concat(rulePart);} // Used to check if scriptlet uses 'hit' function for loggingvar LOG_MARKER = 'log: ';if (message) {if (message.indexOf(LOG_MARKER) === -1) {log(\"\".concat(prefix, \" message:\\n\").concat(message));} else {log(message.slice(LOG_MARKER.length));}}log(\"\".concat(prefix, \" trace start\"));if (trace) {trace();}log(\"\".concat(prefix, \" trace end\"));} catch (e) {// try catch for Edge 15// In according to this issue https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/14495220/// console.log throws an error} // This is necessary for unit-tests only!if (typeof window.__debug === 'function') {window.__debug(source);}};var updatedArgs = args ? [].concat(source).concat(args) : [source];try {debugCurrentInlineScript.apply(this, updatedArgs);} catch (e) {console.log(e);}}}"
        },
        {
            "names": [
                "remove-attr",
                "remove-attr.js",
                "ubo-remove-attr.js",
                "ra.js",
                "ubo-ra.js",
                "ubo-remove-attr",
                "ubo-ra"
            ],
            "scriptlet": "function(source, args){function removeAttr(source, args) {function removeAttr(source, attrs, selector) {var applying = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'asap stay';if (!attrs) {return;}attrs = attrs.split(/\\s*\\|\\s*/);if (!selector) {selector = \"[\".concat(attrs.join('],['), \"]\");}var rmattr = function rmattr() {var nodes = [];try {nodes = [].slice.call(document.querySelectorAll(selector));} catch (e) {// eslint-disable-next-line no-consoleconsole.log(\"Invalid remove-attr selector arg: '\".concat(selector, \"'\"));}var removed = false;nodes.forEach(function (node) {attrs.forEach(function (attr) {node.removeAttribute(attr);removed = true;});});if (removed) {hit(source);}};var FLAGS_DIVIDER = ' ';var ASAP_FLAG = 'asap';var COMPLETE_FLAG = 'complete';var STAY_FLAG = 'stay';var VALID_FLAGS = [STAY_FLAG, ASAP_FLAG, COMPLETE_FLAG];/* eslint-disable no-restricted-properties */var passedFlags = applying.trim().split(FLAGS_DIVIDER).filter(function (f) {return VALID_FLAGS.indexOf(f) !== -1;});var run = function run() {rmattr();if (!passedFlags.indexOf(STAY_FLAG) !== -1) {return;} // 'true' for observing attributesobserveDOMChanges(rmattr, true);};if (passedFlags.indexOf(ASAP_FLAG) !== -1) {rmattr();}if (document.readyState !== 'complete' && passedFlags.indexOf(COMPLETE_FLAG) !== -1) {window.addEventListener('load', run, {once: true});} else if (passedFlags.indexOf(STAY_FLAG) !== -1) {// Do not call rmattr() twice for 'asap stay' flagif (passedFlags.length === 1) {rmattr();} // 'true' for observing attributesobserveDOMChanges(rmattr, true);}}function hit(source, message) {if (source.verbose !== true) {return;}try {var log = console.log.bind(console);var trace = console.trace.bind(console); // eslint-disable-line compat/compatvar prefix = source.ruleText || '';if (source.domainName) {var AG_SCRIPTLET_MARKER = '#%#//';var UBO_SCRIPTLET_MARKER = '##+js';var ruleStartIndex;if (source.ruleText.indexOf(AG_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(AG_SCRIPTLET_MARKER);} else if (source.ruleText.indexOf(UBO_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(UBO_SCRIPTLET_MARKER);} // delete all domains from ruleText and leave just rule partvar rulePart = source.ruleText.slice(ruleStartIndex); // prepare applied scriptlet rule for specific domainprefix = \"\".concat(source.domainName).concat(rulePart);} // Used to check if scriptlet uses 'hit' function for loggingvar LOG_MARKER = 'log: ';if (message) {if (message.indexOf(LOG_MARKER) === -1) {log(\"\".concat(prefix, \" message:\\n\").concat(message));} else {log(message.slice(LOG_MARKER.length));}}log(\"\".concat(prefix, \" trace start\"));if (trace) {trace();}log(\"\".concat(prefix, \" trace end\"));} catch (e) {// try catch for Edge 15// In according to this issue https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/14495220/// console.log throws an error} // This is necessary for unit-tests only!if (typeof window.__debug === 'function') {window.__debug(source);}}function observeDOMChanges(callback) {var observeAttrs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;var attrsToObserve = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];/*** Returns a wrapper, passing the call to 'method' at maximum once per 'delay' milliseconds.* Those calls that fall into the \"cooldown\" period, are ignored* @param {Function} method* @param {Number} delay - milliseconds*/var throttle = function throttle(method, delay) {var wait = false;var savedArgs;var wrapper = function wrapper() {for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {args[_key] = arguments[_key];}if (wait) {savedArgs = args;return;}method.apply(void 0, args);wait = true;setTimeout(function () {wait = false;if (savedArgs) {wrapper(savedArgs);savedArgs = null;}}, delay);};return wrapper;};/*** 'delay' in milliseconds for 'throttle' method*/var THROTTLE_DELAY_MS = 20;/*** Used for remove-class*/// eslint-disable-next-line no-use-before-define, compat/compatvar observer = new MutationObserver(throttle(callbackWrapper, THROTTLE_DELAY_MS));var connect = function connect() {if (attrsToObserve.length > 0) {observer.observe(document.documentElement, {childList: true,subtree: true,attributes: observeAttrs,attributeFilter: attrsToObserve});} else {observer.observe(document.documentElement, {childList: true,subtree: true,attributes: observeAttrs});}};var disconnect = function disconnect() {observer.disconnect();};function callbackWrapper() {disconnect();callback();connect();}connect();};var updatedArgs = args ? [].concat(source).concat(args) : [source];try {removeAttr.apply(this, updatedArgs);} catch (e) {console.log(e);}}}"
        },
        {
            "names": [
                "set-attr"
            ],
            "scriptlet": "function(source, args){function setAttr(source, args) {function setAttr(source, selector, attr) {var value = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '';if (!selector || !attr) {return;} // Drop strings that cant be parsed into number, negative numbers and numbers below 32767if (value.length !== 0 && (nativeIsNaN(parseInt(value, 10)) || parseInt(value, 10) < 0 || parseInt(value, 10) > 0x7FFF)) {return;}var setAttr = function setAttr() {var nodes = [].slice.call(document.querySelectorAll(selector));var set = false;nodes.forEach(function (node) {node.setAttribute(attr, value);set = true;});if (set) {hit(source);}};setAttr();observeDOMChanges(setAttr, true);}function hit(source, message) {if (source.verbose !== true) {return;}try {var log = console.log.bind(console);var trace = console.trace.bind(console); // eslint-disable-line compat/compatvar prefix = source.ruleText || '';if (source.domainName) {var AG_SCRIPTLET_MARKER = '#%#//';var UBO_SCRIPTLET_MARKER = '##+js';var ruleStartIndex;if (source.ruleText.indexOf(AG_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(AG_SCRIPTLET_MARKER);} else if (source.ruleText.indexOf(UBO_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(UBO_SCRIPTLET_MARKER);} // delete all domains from ruleText and leave just rule partvar rulePart = source.ruleText.slice(ruleStartIndex); // prepare applied scriptlet rule for specific domainprefix = \"\".concat(source.domainName).concat(rulePart);} // Used to check if scriptlet uses 'hit' function for loggingvar LOG_MARKER = 'log: ';if (message) {if (message.indexOf(LOG_MARKER) === -1) {log(\"\".concat(prefix, \" message:\\n\").concat(message));} else {log(message.slice(LOG_MARKER.length));}}log(\"\".concat(prefix, \" trace start\"));if (trace) {trace();}log(\"\".concat(prefix, \" trace end\"));} catch (e) {// try catch for Edge 15// In according to this issue https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/14495220/// console.log throws an error} // This is necessary for unit-tests only!if (typeof window.__debug === 'function') {window.__debug(source);}}function observeDOMChanges(callback) {var observeAttrs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;var attrsToObserve = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];/*** Returns a wrapper, passing the call to 'method' at maximum once per 'delay' milliseconds.* Those calls that fall into the \"cooldown\" period, are ignored* @param {Function} method* @param {Number} delay - milliseconds*/var throttle = function throttle(method, delay) {var wait = false;var savedArgs;var wrapper = function wrapper() {for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {args[_key] = arguments[_key];}if (wait) {savedArgs = args;return;}method.apply(void 0, args);wait = true;setTimeout(function () {wait = false;if (savedArgs) {wrapper(savedArgs);savedArgs = null;}}, delay);};return wrapper;};/*** 'delay' in milliseconds for 'throttle' method*/var THROTTLE_DELAY_MS = 20;/*** Used for remove-class*/// eslint-disable-next-line no-use-before-define, compat/compatvar observer = new MutationObserver(throttle(callbackWrapper, THROTTLE_DELAY_MS));var connect = function connect() {if (attrsToObserve.length > 0) {observer.observe(document.documentElement, {childList: true,subtree: true,attributes: observeAttrs,attributeFilter: attrsToObserve});} else {observer.observe(document.documentElement, {childList: true,subtree: true,attributes: observeAttrs});}};var disconnect = function disconnect() {observer.disconnect();};function callbackWrapper() {disconnect();callback();connect();}connect();}function nativeIsNaN(num) {var native = Number.isNaN || window.isNaN; // eslint-disable-line compat/compatreturn native(num);};var updatedArgs = args ? [].concat(source).concat(args) : [source];try {setAttr.apply(this, updatedArgs);} catch (e) {console.log(e);}}}"
        },
        {
            "names": [
                "remove-class",
                "remove-class.js",
                "ubo-remove-class.js",
                "rc.js",
                "ubo-rc.js",
                "ubo-remove-class",
                "ubo-rc"
            ],
            "scriptlet": "function(source, args){function removeClass(source, args) {function removeClass(source, classNames, selector) {var applying = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'asap stay';if (!classNames) {return;}classNames = classNames.split(/\\s*\\|\\s*/);var selectors = [];if (!selector) {selectors = classNames.map(function (className) {return \".\".concat(className);});}var removeClassHandler = function removeClassHandler() {var nodes = new Set();if (selector) {var foundNodes = [];try {foundNodes = [].slice.call(document.querySelectorAll(selector));} catch (e) {// eslint-disable-next-line no-consoleconsole.log(\"Invalid remove-class selector arg: '\".concat(selector, \"'\"));}foundNodes.forEach(function (n) {return nodes.add(n);});} else if (selectors.length > 0) {selectors.forEach(function (s) {var elements = document.querySelectorAll(s);for (var i = 0; i < elements.length; i += 1) {var element = elements[i];nodes.add(element);}});}var removed = false;nodes.forEach(function (node) {classNames.forEach(function (className) {if (node.classList.contains(className)) {node.classList.remove(className);removed = true;}});});if (removed) {hit(source);}};var CLASS_ATTR_NAME = ['class'];var FLAGS_DIVIDER = ' ';var ASAP_FLAG = 'asap';var COMPLETE_FLAG = 'complete';var STAY_FLAG = 'stay';var VALID_FLAGS = [STAY_FLAG, ASAP_FLAG, COMPLETE_FLAG];/* eslint-disable no-restricted-properties */var passedFlags = applying.trim().split(FLAGS_DIVIDER).filter(function (f) {return VALID_FLAGS.indexOf(f) !== -1;});var run = function run() {removeClassHandler();if (!passedFlags.indexOf(STAY_FLAG) !== -1) {return;} // 'true' for observing attributes// 'class' for observing only classesobserveDOMChanges(removeClassHandler, true, CLASS_ATTR_NAME);};if (passedFlags.indexOf(ASAP_FLAG) !== -1) {removeClassHandler();}if (document.readyState !== 'complete' && passedFlags.indexOf(COMPLETE_FLAG) !== -1) {window.addEventListener('load', run, {once: true});} else if (passedFlags.indexOf(STAY_FLAG) !== -1) {// Do not call removeClassHandler() twice for 'asap stay' flagif (passedFlags.length === 1) {removeClassHandler();} // 'true' for observing attributes// 'class' for observing only classesobserveDOMChanges(removeClassHandler, true, CLASS_ATTR_NAME);}}function hit(source, message) {if (source.verbose !== true) {return;}try {var log = console.log.bind(console);var trace = console.trace.bind(console); // eslint-disable-line compat/compatvar prefix = source.ruleText || '';if (source.domainName) {var AG_SCRIPTLET_MARKER = '#%#//';var UBO_SCRIPTLET_MARKER = '##+js';var ruleStartIndex;if (source.ruleText.indexOf(AG_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(AG_SCRIPTLET_MARKER);} else if (source.ruleText.indexOf(UBO_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(UBO_SCRIPTLET_MARKER);} // delete all domains from ruleText and leave just rule partvar rulePart = source.ruleText.slice(ruleStartIndex); // prepare applied scriptlet rule for specific domainprefix = \"\".concat(source.domainName).concat(rulePart);} // Used to check if scriptlet uses 'hit' function for loggingvar LOG_MARKER = 'log: ';if (message) {if (message.indexOf(LOG_MARKER) === -1) {log(\"\".concat(prefix, \" message:\\n\").concat(message));} else {log(message.slice(LOG_MARKER.length));}}log(\"\".concat(prefix, \" trace start\"));if (trace) {trace();}log(\"\".concat(prefix, \" trace end\"));} catch (e) {// try catch for Edge 15// In according to this issue https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/14495220/// console.log throws an error} // This is necessary for unit-tests only!if (typeof window.__debug === 'function') {window.__debug(source);}}function observeDOMChanges(callback) {var observeAttrs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;var attrsToObserve = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];/*** Returns a wrapper, passing the call to 'method' at maximum once per 'delay' milliseconds.* Those calls that fall into the \"cooldown\" period, are ignored* @param {Function} method* @param {Number} delay - milliseconds*/var throttle = function throttle(method, delay) {var wait = false;var savedArgs;var wrapper = function wrapper() {for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {args[_key] = arguments[_key];}if (wait) {savedArgs = args;return;}method.apply(void 0, args);wait = true;setTimeout(function () {wait = false;if (savedArgs) {wrapper(savedArgs);savedArgs = null;}}, delay);};return wrapper;};/*** 'delay' in milliseconds for 'throttle' method*/var THROTTLE_DELAY_MS = 20;/*** Used for remove-class*/// eslint-disable-next-line no-use-before-define, compat/compatvar observer = new MutationObserver(throttle(callbackWrapper, THROTTLE_DELAY_MS));var connect = function connect() {if (attrsToObserve.length > 0) {observer.observe(document.documentElement, {childList: true,subtree: true,attributes: observeAttrs,attributeFilter: attrsToObserve});} else {observer.observe(document.documentElement, {childList: true,subtree: true,attributes: observeAttrs});}};var disconnect = function disconnect() {observer.disconnect();};function callbackWrapper() {disconnect();callback();connect();}connect();};var updatedArgs = args ? [].concat(source).concat(args) : [source];try {removeClass.apply(this, updatedArgs);} catch (e) {console.log(e);}}}"
        },
        {
            "names": [
                "disable-newtab-links",
                "disable-newtab-links.js",
                "ubo-disable-newtab-links.js",
                "ubo-disable-newtab-links"
            ],
            "scriptlet": "function(source, args){function disableNewtabLinks(source, args) {function disableNewtabLinks(source) {document.addEventListener('click', function (ev) {var target = ev.target;while (target !== null) {if (target.localName === 'a' && target.hasAttribute('target')) {ev.stopPropagation();ev.preventDefault();hit(source);break;}target = target.parentNode;}});}function hit(source, message) {if (source.verbose !== true) {return;}try {var log = console.log.bind(console);var trace = console.trace.bind(console); // eslint-disable-line compat/compatvar prefix = source.ruleText || '';if (source.domainName) {var AG_SCRIPTLET_MARKER = '#%#//';var UBO_SCRIPTLET_MARKER = '##+js';var ruleStartIndex;if (source.ruleText.indexOf(AG_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(AG_SCRIPTLET_MARKER);} else if (source.ruleText.indexOf(UBO_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(UBO_SCRIPTLET_MARKER);} // delete all domains from ruleText and leave just rule partvar rulePart = source.ruleText.slice(ruleStartIndex); // prepare applied scriptlet rule for specific domainprefix = \"\".concat(source.domainName).concat(rulePart);} // Used to check if scriptlet uses 'hit' function for loggingvar LOG_MARKER = 'log: ';if (message) {if (message.indexOf(LOG_MARKER) === -1) {log(\"\".concat(prefix, \" message:\\n\").concat(message));} else {log(message.slice(LOG_MARKER.length));}}log(\"\".concat(prefix, \" trace start\"));if (trace) {trace();}log(\"\".concat(prefix, \" trace end\"));} catch (e) {// try catch for Edge 15// In according to this issue https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/14495220/// console.log throws an error} // This is necessary for unit-tests only!if (typeof window.__debug === 'function') {window.__debug(source);}};var updatedArgs = args ? [].concat(source).concat(args) : [source];try {disableNewtabLinks.apply(this, updatedArgs);} catch (e) {console.log(e);}}}"
        },
        {
            "names": [
                "adjust-setInterval",
                "nano-setInterval-booster.js",
                "ubo-nano-setInterval-booster.js",
                "nano-sib.js",
                "ubo-nano-sib.js",
                "ubo-nano-setInterval-booster",
                "ubo-nano-sib"
            ],
            "scriptlet": "function(source, args){function adjustSetInterval(source, args) {function adjustSetInterval(source, match, interval, boost) {var nativeSetInterval = window.setInterval;var matchRegexp = toRegExp(match);var intervalWrapper = function intervalWrapper(cb, d) {if (matchRegexp.test(cb.toString()) && isDelayMatched(interval, d)) {d *= getBoostMultiplier(boost);hit(source);}for (var _len12 = arguments.length, args = new Array(_len12 > 2 ? _len12 - 2 : 0), _key12 = 2; _key12 < _len12; _key12++) {args[_key12 - 2] = arguments[_key12];}return nativeSetInterval.apply(window, [cb, d].concat(args));};window.setInterval = intervalWrapper;}function hit(source, message) {if (source.verbose !== true) {return;}try {var log = console.log.bind(console);var trace = console.trace.bind(console); // eslint-disable-line compat/compatvar prefix = source.ruleText || '';if (source.domainName) {var AG_SCRIPTLET_MARKER = '#%#//';var UBO_SCRIPTLET_MARKER = '##+js';var ruleStartIndex;if (source.ruleText.indexOf(AG_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(AG_SCRIPTLET_MARKER);} else if (source.ruleText.indexOf(UBO_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(UBO_SCRIPTLET_MARKER);} // delete all domains from ruleText and leave just rule partvar rulePart = source.ruleText.slice(ruleStartIndex); // prepare applied scriptlet rule for specific domainprefix = \"\".concat(source.domainName).concat(rulePart);} // Used to check if scriptlet uses 'hit' function for loggingvar LOG_MARKER = 'log: ';if (message) {if (message.indexOf(LOG_MARKER) === -1) {log(\"\".concat(prefix, \" message:\\n\").concat(message));} else {log(message.slice(LOG_MARKER.length));}}log(\"\".concat(prefix, \" trace start\"));if (trace) {trace();}log(\"\".concat(prefix, \" trace end\"));} catch (e) {// try catch for Edge 15// In according to this issue https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/14495220/// console.log throws an error} // This is necessary for unit-tests only!if (typeof window.__debug === 'function') {window.__debug(source);}}function toRegExp() {var input = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';var DEFAULT_VALUE = '.?';var FORWARD_SLASH = '/';if (input === '') {return new RegExp(DEFAULT_VALUE);}if (input[0] === FORWARD_SLASH && input[input.length - 1] === FORWARD_SLASH) {return new RegExp(input.slice(1, -1));}var escaped = input.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');return new RegExp(escaped);}function getBoostMultiplier(boost) {var DEFAULT_MULTIPLIER = 0.05;var MIN_MULTIPLIER = 0.02;var MAX_MULTIPLIER = 50;var parsedBoost = parseFloat(boost);var boostMultiplier = (0, _numberUtils.nativeIsNaN)(parsedBoost) || !(0, _numberUtils.nativeIsFinite)(parsedBoost) ? DEFAULT_MULTIPLIER // default scriptlet value: parsedBoost;if (boostMultiplier < MIN_MULTIPLIER) {boostMultiplier = MIN_MULTIPLIER;}if (boostMultiplier > MAX_MULTIPLIER) {boostMultiplier = MAX_MULTIPLIER;}return boostMultiplier;}function isDelayMatched(inputDelay, realDelay) {return shouldMatchAnyDelay(inputDelay) || realDelay === getMatchDelay(inputDelay);}function nativeIsNaN(num) {var native = Number.isNaN || window.isNaN; // eslint-disable-line compat/compatreturn native(num);}function nativeIsFinite(num) {var native = Number.isFinite || window.isFinite; // eslint-disable-line compat/compatreturn native(num);}function getMatchDelay(delay) {var DEFAULT_DELAY = 1000;var parsedDelay = parseInt(delay, 10);var delayMatch = (0, _numberUtils.nativeIsNaN)(parsedDelay) ? DEFAULT_DELAY // default scriptlet value: parsedDelay;return delayMatch;}function getWildcardSymbol() {return '*';}function shouldMatchAnyDelay(delay) {return delay === (0, _constants.getWildcardSymbol)();};var updatedArgs = args ? [].concat(source).concat(args) : [source];try {adjustSetInterval.apply(this, updatedArgs);} catch (e) {console.log(e);}}}"
        },
        {
            "names": [
                "adjust-setTimeout",
                "nano-setTimeout-booster.js",
                "ubo-nano-setTimeout-booster.js",
                "nano-stb.js",
                "ubo-nano-stb.js",
                "ubo-nano-setTimeout-booster",
                "ubo-nano-stb"
            ],
            "scriptlet": "function(source, args){function adjustSetTimeout(source, args) {function adjustSetTimeout(source, match, timeout, boost) {var nativeSetTimeout = window.setTimeout;var matchRegexp = toRegExp(match);var timeoutWrapper = function timeoutWrapper(cb, d) {if (matchRegexp.test(cb.toString()) && isDelayMatched(timeout, d)) {d *= getBoostMultiplier(boost);hit(source);}for (var _len13 = arguments.length, args = new Array(_len13 > 2 ? _len13 - 2 : 0), _key13 = 2; _key13 < _len13; _key13++) {args[_key13 - 2] = arguments[_key13];}return nativeSetTimeout.apply(window, [cb, d].concat(args));};window.setTimeout = timeoutWrapper;}function hit(source, message) {if (source.verbose !== true) {return;}try {var log = console.log.bind(console);var trace = console.trace.bind(console); // eslint-disable-line compat/compatvar prefix = source.ruleText || '';if (source.domainName) {var AG_SCRIPTLET_MARKER = '#%#//';var UBO_SCRIPTLET_MARKER = '##+js';var ruleStartIndex;if (source.ruleText.indexOf(AG_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(AG_SCRIPTLET_MARKER);} else if (source.ruleText.indexOf(UBO_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(UBO_SCRIPTLET_MARKER);} // delete all domains from ruleText and leave just rule partvar rulePart = source.ruleText.slice(ruleStartIndex); // prepare applied scriptlet rule for specific domainprefix = \"\".concat(source.domainName).concat(rulePart);} // Used to check if scriptlet uses 'hit' function for loggingvar LOG_MARKER = 'log: ';if (message) {if (message.indexOf(LOG_MARKER) === -1) {log(\"\".concat(prefix, \" message:\\n\").concat(message));} else {log(message.slice(LOG_MARKER.length));}}log(\"\".concat(prefix, \" trace start\"));if (trace) {trace();}log(\"\".concat(prefix, \" trace end\"));} catch (e) {// try catch for Edge 15// In according to this issue https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/14495220/// console.log throws an error} // This is necessary for unit-tests only!if (typeof window.__debug === 'function') {window.__debug(source);}}function toRegExp() {var input = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';var DEFAULT_VALUE = '.?';var FORWARD_SLASH = '/';if (input === '') {return new RegExp(DEFAULT_VALUE);}if (input[0] === FORWARD_SLASH && input[input.length - 1] === FORWARD_SLASH) {return new RegExp(input.slice(1, -1));}var escaped = input.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');return new RegExp(escaped);}function getBoostMultiplier(boost) {var DEFAULT_MULTIPLIER = 0.05;var MIN_MULTIPLIER = 0.02;var MAX_MULTIPLIER = 50;var parsedBoost = parseFloat(boost);var boostMultiplier = (0, _numberUtils.nativeIsNaN)(parsedBoost) || !(0, _numberUtils.nativeIsFinite)(parsedBoost) ? DEFAULT_MULTIPLIER // default scriptlet value: parsedBoost;if (boostMultiplier < MIN_MULTIPLIER) {boostMultiplier = MIN_MULTIPLIER;}if (boostMultiplier > MAX_MULTIPLIER) {boostMultiplier = MAX_MULTIPLIER;}return boostMultiplier;}function isDelayMatched(inputDelay, realDelay) {return shouldMatchAnyDelay(inputDelay) || realDelay === getMatchDelay(inputDelay);}function nativeIsNaN(num) {var native = Number.isNaN || window.isNaN; // eslint-disable-line compat/compatreturn native(num);}function nativeIsFinite(num) {var native = Number.isFinite || window.isFinite; // eslint-disable-line compat/compatreturn native(num);}function getMatchDelay(delay) {var DEFAULT_DELAY = 1000;var parsedDelay = parseInt(delay, 10);var delayMatch = (0, _numberUtils.nativeIsNaN)(parsedDelay) ? DEFAULT_DELAY // default scriptlet value: parsedDelay;return delayMatch;}function getWildcardSymbol() {return '*';}function shouldMatchAnyDelay(delay) {return delay === (0, _constants.getWildcardSymbol)();};var updatedArgs = args ? [].concat(source).concat(args) : [source];try {adjustSetTimeout.apply(this, updatedArgs);} catch (e) {console.log(e);}}}"
        },
        {
            "names": [
                "dir-string",
                "abp-dir-string"
            ],
            "scriptlet": "function(source, args){function dirString(source, args) {function dirString(source, times) {var _console = console,dir = _console.dir;times = parseInt(times, 10);function dirWrapper(object) {// eslint-disable-next-line no-unused-varsvar temp;for (var i = 0; i < times; i += 1) {// eslint-disable-next-line no-unused-expressionstemp = \"\".concat(object);}if (typeof dir === 'function') {dir.call(this, object);}hit(source, temp);} // eslint-disable-next-line no-consoleconsole.dir = dirWrapper;}function hit(source, message) {if (source.verbose !== true) {return;}try {var log = console.log.bind(console);var trace = console.trace.bind(console); // eslint-disable-line compat/compatvar prefix = source.ruleText || '';if (source.domainName) {var AG_SCRIPTLET_MARKER = '#%#//';var UBO_SCRIPTLET_MARKER = '##+js';var ruleStartIndex;if (source.ruleText.indexOf(AG_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(AG_SCRIPTLET_MARKER);} else if (source.ruleText.indexOf(UBO_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(UBO_SCRIPTLET_MARKER);} // delete all domains from ruleText and leave just rule partvar rulePart = source.ruleText.slice(ruleStartIndex); // prepare applied scriptlet rule for specific domainprefix = \"\".concat(source.domainName).concat(rulePart);} // Used to check if scriptlet uses 'hit' function for loggingvar LOG_MARKER = 'log: ';if (message) {if (message.indexOf(LOG_MARKER) === -1) {log(\"\".concat(prefix, \" message:\\n\").concat(message));} else {log(message.slice(LOG_MARKER.length));}}log(\"\".concat(prefix, \" trace start\"));if (trace) {trace();}log(\"\".concat(prefix, \" trace end\"));} catch (e) {// try catch for Edge 15// In according to this issue https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/14495220/// console.log throws an error} // This is necessary for unit-tests only!if (typeof window.__debug === 'function') {window.__debug(source);}};var updatedArgs = args ? [].concat(source).concat(args) : [source];try {dirString.apply(this, updatedArgs);} catch (e) {console.log(e);}}}"
        },
        {
            "names": [
                "json-prune",
                "json-prune.js",
                "ubo-json-prune.js",
                "ubo-json-prune",
                "abp-json-prune"
            ],
            "scriptlet": "function(source, args){function jsonPrune(source, args) {function jsonPrune(source, propsToRemove, requiredInitialProps, stack) {if (!!stack && !matchStackTrace(stack, new Error().stack)) {return;} // eslint-disable-next-line no-consolevar log = console.log.bind(console);var prunePaths = propsToRemove !== undefined && propsToRemove !== '' ? propsToRemove.split(/ +/) : [];var requiredPaths = requiredInitialProps !== undefined && requiredInitialProps !== '' ? requiredInitialProps.split(/ +/) : [];function isPruningNeeded(root) {if (!root) {return false;}var shouldProcess; // Only log hostname and matched JSON payload if only second argument is presentif (prunePaths.length === 0 && requiredPaths.length > 0) {var rootString = JSON.stringify(root);var matchRegex = toRegExp(requiredPaths.join(''));var shouldLog = matchRegex.test(rootString);if (shouldLog) {log(window.location.hostname, root);shouldProcess = false;return shouldProcess;}}for (var i = 0; i < requiredPaths.length; i += 1) {var requiredPath = requiredPaths[i];var lastNestedPropName = requiredPath.split('.').pop();var hasWildcard = requiredPath.indexOf('.*.') > -1 || requiredPath.indexOf('*.') > -1 || requiredPath.indexOf('.*') > -1 || requiredPath.indexOf('.[].') > -1 || requiredPath.indexOf('[].') > -1 || requiredPath.indexOf('.[]') > -1; // if the path has wildcard, getPropertyInChain should 'look through' chain propsvar details = getWildcardPropertyInChain(root, requiredPath, hasWildcard); // start value of 'shouldProcess' due to checking belowshouldProcess = !hasWildcard;for (var _i2 = 0; _i2 < details.length; _i2 += 1) {if (hasWildcard) {// if there is a wildcard,// at least one (||) of props chain should be present in objectshouldProcess = !(details[_i2].base[lastNestedPropName] === undefined) || shouldProcess;} else {// otherwise each one (&&) of them should be thereshouldProcess = !(details[_i2].base[lastNestedPropName] === undefined) && shouldProcess;}}}return shouldProcess;}/*** Prunes properties of 'root' object* @param {Object} root*/var jsonPruner = function jsonPruner(root) {if (prunePaths.length === 0 && requiredPaths.length === 0) {log(window.location.hostname, root);return root;}try {if (isPruningNeeded(root) === false) {return root;} // if pruning is needed, we check every input pathToRemove// and delete it if root has itprunePaths.forEach(function (path) {var ownerObjArr = getWildcardPropertyInChain(root, path, true);ownerObjArr.forEach(function (ownerObj) {if (ownerObj !== undefined && ownerObj.base) {delete ownerObj.base[ownerObj.prop];hit(source);}});});} catch (e) {log(e.toString());}return root;};var nativeJSONParse = JSON.parse;var jsonParseWrapper = function jsonParseWrapper() {for (var _len14 = arguments.length, args = new Array(_len14), _key14 = 0; _key14 < _len14; _key14++) {args[_key14] = arguments[_key14];} // dealing with stringified json in args, which should be parsed.// so we call nativeJSONParse as JSON.parse which is bound to JSON objectvar root = nativeJSONParse.apply(JSON, args);return jsonPruner(root);}; // JSON.parse mockingjsonParseWrapper.toString = nativeJSONParse.toString.bind(nativeJSONParse);JSON.parse = jsonParseWrapper; // eslint-disable-next-line compat/compatvar nativeResponseJson = Response.prototype.json; // eslint-disable-next-line func-namesvar responseJsonWrapper = function responseJsonWrapper() {var promise = nativeResponseJson.apply(this);return promise.then(function (obj) {return jsonPruner(obj);});}; // do nothing if browser does not support Response (e.g. Internet Explorer)// https://developer.mozilla.org/en-US/docs/Web/API/Responseif (typeof Response === 'undefined') {return;} // eslint-disable-next-line compat/compatResponse.prototype.json = responseJsonWrapper;}function hit(source, message) {if (source.verbose !== true) {return;}try {var log = console.log.bind(console);var trace = console.trace.bind(console); // eslint-disable-line compat/compatvar prefix = source.ruleText || '';if (source.domainName) {var AG_SCRIPTLET_MARKER = '#%#//';var UBO_SCRIPTLET_MARKER = '##+js';var ruleStartIndex;if (source.ruleText.indexOf(AG_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(AG_SCRIPTLET_MARKER);} else if (source.ruleText.indexOf(UBO_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(UBO_SCRIPTLET_MARKER);} // delete all domains from ruleText and leave just rule partvar rulePart = source.ruleText.slice(ruleStartIndex); // prepare applied scriptlet rule for specific domainprefix = \"\".concat(source.domainName).concat(rulePart);} // Used to check if scriptlet uses 'hit' function for loggingvar LOG_MARKER = 'log: ';if (message) {if (message.indexOf(LOG_MARKER) === -1) {log(\"\".concat(prefix, \" message:\\n\").concat(message));} else {log(message.slice(LOG_MARKER.length));}}log(\"\".concat(prefix, \" trace start\"));if (trace) {trace();}log(\"\".concat(prefix, \" trace end\"));} catch (e) {// try catch for Edge 15// In according to this issue https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/14495220/// console.log throws an error} // This is necessary for unit-tests only!if (typeof window.__debug === 'function') {window.__debug(source);}}function matchStackTrace(stackMatch, stackTrace) {if (!stackMatch || stackMatch === '') {return true;}var stackRegexp = (0, _stringUtils.toRegExp)(stackMatch);var refinedStackTrace = stackTrace.split('\\n').slice(2) // get rid of our own functions in the stack trace.map(function (line) {return line.trim();}) // trim the lines.join('\\n');return stackRegexp.test(refinedStackTrace);}function getWildcardPropertyInChain(base, chain) {var lookThrough = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;var output = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [];var pos = chain.indexOf('.');if (pos === -1) {// for paths like 'a.b.*' every final nested prop should be processedif (chain === (0, _constants.getWildcardSymbol)() || chain === '[]') {// eslint-disable-next-line no-restricted-syntaxfor (var key in base) {// to process each key in base except inherited onesif (Object.prototype.hasOwnProperty.call(base, key)) {output.push({base: base,prop: key});}}} else {output.push({base: base,prop: chain});}return output;}var prop = chain.slice(0, pos);var shouldLookThrough = prop === '[]' && Array.isArray(base) || prop === (0, _constants.getWildcardSymbol)() && base instanceof Object;if (shouldLookThrough) {var nextProp = chain.slice(pos + 1);var baseKeys = Object.keys(base); // if there is a wildcard prop in input chain (e.g. 'ad.*.src' for 'ad.0.src ad.1.src'),// each one of base keys should be considered as a potential chain prop in final pathbaseKeys.forEach(function (key) {var item = base[key];getWildcardPropertyInChain(item, nextProp, lookThrough, output);});}var nextBase = base[prop];chain = chain.slice(pos + 1);if (nextBase !== undefined) {getWildcardPropertyInChain(nextBase, chain, lookThrough, output);}return output;}function toRegExp() {var input = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';var DEFAULT_VALUE = '.?';var FORWARD_SLASH = '/';if (input === '') {return new RegExp(DEFAULT_VALUE);}if (input[0] === FORWARD_SLASH && input[input.length - 1] === FORWARD_SLASH) {return new RegExp(input.slice(1, -1));}var escaped = input.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');return new RegExp(escaped);}function getWildcardSymbol() {return '*';};var updatedArgs = args ? [].concat(source).concat(args) : [source];try {jsonPrune.apply(this, updatedArgs);} catch (e) {console.log(e);}}}"
        },
        {
            "names": [
                "prevent-requestAnimationFrame",
                "no-requestAnimationFrame-if.js",
                "ubo-no-requestAnimationFrame-if.js",
                "norafif.js",
                "ubo-norafif.js",
                "ubo-no-requestAnimationFrame-if",
                "ubo-norafif"
            ],
            "scriptlet": "function(source, args){function preventRequestAnimationFrame(source, args) {function preventRequestAnimationFrame(source, match) {var nativeRequestAnimationFrame = window.requestAnimationFrame; // logs requestAnimationFrame to console if no arguments have been specifiedvar shouldLog = typeof match === 'undefined';var _parseMatchArg4 = parseMatchArg(match),isInvertedMatch = _parseMatchArg4.isInvertedMatch,matchRegexp = _parseMatchArg4.matchRegexp;var rafWrapper = function rafWrapper(callback) {var shouldPrevent = false;if (shouldLog) {var logMessage = \"log: requestAnimationFrame(\\\"\".concat(callback.toString(), \"\\\")\");hit(source, logMessage);} else if (validateStrPattern(match)) {shouldPrevent = matchRegexp.test(callback.toString()) !== isInvertedMatch;}if (shouldPrevent) {hit(source);return nativeRequestAnimationFrame(noopFunc);}for (var _len15 = arguments.length, args = new Array(_len15 > 1 ? _len15 - 1 : 0), _key15 = 1; _key15 < _len15; _key15++) {args[_key15 - 1] = arguments[_key15];}return nativeRequestAnimationFrame.apply(window, [callback].concat(args));};window.requestAnimationFrame = rafWrapper;}function hit(source, message) {if (source.verbose !== true) {return;}try {var log = console.log.bind(console);var trace = console.trace.bind(console); // eslint-disable-line compat/compatvar prefix = source.ruleText || '';if (source.domainName) {var AG_SCRIPTLET_MARKER = '#%#//';var UBO_SCRIPTLET_MARKER = '##+js';var ruleStartIndex;if (source.ruleText.indexOf(AG_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(AG_SCRIPTLET_MARKER);} else if (source.ruleText.indexOf(UBO_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(UBO_SCRIPTLET_MARKER);} // delete all domains from ruleText and leave just rule partvar rulePart = source.ruleText.slice(ruleStartIndex); // prepare applied scriptlet rule for specific domainprefix = \"\".concat(source.domainName).concat(rulePart);} // Used to check if scriptlet uses 'hit' function for loggingvar LOG_MARKER = 'log: ';if (message) {if (message.indexOf(LOG_MARKER) === -1) {log(\"\".concat(prefix, \" message:\\n\").concat(message));} else {log(message.slice(LOG_MARKER.length));}}log(\"\".concat(prefix, \" trace start\"));if (trace) {trace();}log(\"\".concat(prefix, \" trace end\"));} catch (e) {// try catch for Edge 15// In according to this issue https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/14495220/// console.log throws an error} // This is necessary for unit-tests only!if (typeof window.__debug === 'function') {window.__debug(source);}}function noopFunc() {}function parseMatchArg(match) {var INVERT_MARKER = '!';var isInvertedMatch = startsWith(match, INVERT_MARKER);var matchValue = isInvertedMatch ? match.slice(1) : match;var matchRegexp = toRegExp(matchValue);return {isInvertedMatch: isInvertedMatch,matchRegexp: matchRegexp};}function validateStrPattern(input) {var FORWARD_SLASH = '/';var str = input;if (input[0] === FORWARD_SLASH && input[input.length - 1] === FORWARD_SLASH) {str = input.slice(1, -1);}var isValid;try {isValid = new RegExp(str);isValid = true;} catch (e) {isValid = false;}return isValid;}function toRegExp() {var input = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';var DEFAULT_VALUE = '.?';var FORWARD_SLASH = '/';if (input === '') {return new RegExp(DEFAULT_VALUE);}if (input[0] === FORWARD_SLASH && input[input.length - 1] === FORWARD_SLASH) {return new RegExp(input.slice(1, -1));}var escaped = input.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');return new RegExp(escaped);}function startsWith(str, prefix) {// if str === '', (str && false) will return ''// that's why it has to be !!strreturn !!str && str.indexOf(prefix) === 0;};var updatedArgs = args ? [].concat(source).concat(args) : [source];try {preventRequestAnimationFrame.apply(this, updatedArgs);} catch (e) {console.log(e);}}}"
        },
        {
            "names": [
                "set-cookie"
            ],
            "scriptlet": "function(source, args){function setCookie(source, args) {function setCookie(source, name, value) {var cookieData = prepareCookie(name, value);if (cookieData) {hit(source);document.cookie = cookieData;}}function hit(source, message) {if (source.verbose !== true) {return;}try {var log = console.log.bind(console);var trace = console.trace.bind(console); // eslint-disable-line compat/compatvar prefix = source.ruleText || '';if (source.domainName) {var AG_SCRIPTLET_MARKER = '#%#//';var UBO_SCRIPTLET_MARKER = '##+js';var ruleStartIndex;if (source.ruleText.indexOf(AG_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(AG_SCRIPTLET_MARKER);} else if (source.ruleText.indexOf(UBO_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(UBO_SCRIPTLET_MARKER);} // delete all domains from ruleText and leave just rule partvar rulePart = source.ruleText.slice(ruleStartIndex); // prepare applied scriptlet rule for specific domainprefix = \"\".concat(source.domainName).concat(rulePart);} // Used to check if scriptlet uses 'hit' function for loggingvar LOG_MARKER = 'log: ';if (message) {if (message.indexOf(LOG_MARKER) === -1) {log(\"\".concat(prefix, \" message:\\n\").concat(message));} else {log(message.slice(LOG_MARKER.length));}}log(\"\".concat(prefix, \" trace start\"));if (trace) {trace();}log(\"\".concat(prefix, \" trace end\"));} catch (e) {// try catch for Edge 15// In according to this issue https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/14495220/// console.log throws an error} // This is necessary for unit-tests only!if (typeof window.__debug === 'function') {window.__debug(source);}}function nativeIsNaN(num) {var native = Number.isNaN || window.isNaN; // eslint-disable-line compat/compatreturn native(num);}function prepareCookie(name, value) {if (!name || !value) {return null;}var valueToSet;if (value === 'true') {valueToSet = 'true';} else if (value === 'True') {valueToSet = 'True';} else if (value === 'false') {valueToSet = 'false';} else if (value === 'False') {valueToSet = 'False';} else if (value === 'yes') {valueToSet = 'yes';} else if (value === 'Yes') {valueToSet = 'Yes';} else if (value === 'Y') {valueToSet = 'Y';} else if (value === 'no') {valueToSet = 'no';} else if (value === 'ok') {valueToSet = 'ok';} else if (value === 'OK') {valueToSet = 'OK';} else if (/^\\d+$/.test(value)) {valueToSet = parseFloat(value);if ((0, _numberUtils.nativeIsNaN)(valueToSet)) {return null;}if (Math.abs(valueToSet) < 0 || Math.abs(valueToSet) > 15) {return null;}} else {return null;}var pathToSet = 'path=/;'; // eslint-disable-next-line max-lenvar cookieData = \"\".concat(encodeURIComponent(name), \"=\").concat(encodeURIComponent(valueToSet), \"; \").concat(pathToSet);return cookieData;};var updatedArgs = args ? [].concat(source).concat(args) : [source];try {setCookie.apply(this, updatedArgs);} catch (e) {console.log(e);}}}"
        },
        {
            "names": [
                "set-cookie-reload"
            ],
            "scriptlet": "function(source, args){function setCookieReload(source, args) {function setCookieReload(source, name, value) {var isCookieAlreadySet = document.cookie.split(';').some(function (cookieStr) {var pos = cookieStr.indexOf('=');if (pos === -1) {return false;}var cookieName = cookieStr.slice(0, pos).trim();var cookieValue = cookieStr.slice(pos + 1).trim();return name === cookieName && value === cookieValue;});var shouldReload = !isCookieAlreadySet;var cookieData = prepareCookie(name, value);if (cookieData) {hit(source);document.cookie = cookieData;if (shouldReload) {window.location.reload();}}}function hit(source, message) {if (source.verbose !== true) {return;}try {var log = console.log.bind(console);var trace = console.trace.bind(console); // eslint-disable-line compat/compatvar prefix = source.ruleText || '';if (source.domainName) {var AG_SCRIPTLET_MARKER = '#%#//';var UBO_SCRIPTLET_MARKER = '##+js';var ruleStartIndex;if (source.ruleText.indexOf(AG_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(AG_SCRIPTLET_MARKER);} else if (source.ruleText.indexOf(UBO_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(UBO_SCRIPTLET_MARKER);} // delete all domains from ruleText and leave just rule partvar rulePart = source.ruleText.slice(ruleStartIndex); // prepare applied scriptlet rule for specific domainprefix = \"\".concat(source.domainName).concat(rulePart);} // Used to check if scriptlet uses 'hit' function for loggingvar LOG_MARKER = 'log: ';if (message) {if (message.indexOf(LOG_MARKER) === -1) {log(\"\".concat(prefix, \" message:\\n\").concat(message));} else {log(message.slice(LOG_MARKER.length));}}log(\"\".concat(prefix, \" trace start\"));if (trace) {trace();}log(\"\".concat(prefix, \" trace end\"));} catch (e) {// try catch for Edge 15// In according to this issue https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/14495220/// console.log throws an error} // This is necessary for unit-tests only!if (typeof window.__debug === 'function') {window.__debug(source);}}function nativeIsNaN(num) {var native = Number.isNaN || window.isNaN; // eslint-disable-line compat/compatreturn native(num);}function prepareCookie(name, value) {if (!name || !value) {return null;}var valueToSet;if (value === 'true') {valueToSet = 'true';} else if (value === 'True') {valueToSet = 'True';} else if (value === 'false') {valueToSet = 'false';} else if (value === 'False') {valueToSet = 'False';} else if (value === 'yes') {valueToSet = 'yes';} else if (value === 'Yes') {valueToSet = 'Yes';} else if (value === 'Y') {valueToSet = 'Y';} else if (value === 'no') {valueToSet = 'no';} else if (value === 'ok') {valueToSet = 'ok';} else if (value === 'OK') {valueToSet = 'OK';} else if (/^\\d+$/.test(value)) {valueToSet = parseFloat(value);if ((0, _numberUtils.nativeIsNaN)(valueToSet)) {return null;}if (Math.abs(valueToSet) < 0 || Math.abs(valueToSet) > 15) {return null;}} else {return null;}var pathToSet = 'path=/;'; // eslint-disable-next-line max-lenvar cookieData = \"\".concat(encodeURIComponent(name), \"=\").concat(encodeURIComponent(valueToSet), \"; \").concat(pathToSet);return cookieData;};var updatedArgs = args ? [].concat(source).concat(args) : [source];try {setCookieReload.apply(this, updatedArgs);} catch (e) {console.log(e);}}}"
        },
        {
            "names": [
                "hide-in-shadow-dom"
            ],
            "scriptlet": "function(source, args){function hideInShadowDom(source, args) {function hideInShadowDom(source, selector, baseSelector) {// do nothing if browser does not support ShadowRoot// https://developer.mozilla.org/en-US/docs/Web/API/ShadowRootif (!Element.prototype.attachShadow) {return;}var hideElement = function hideElement(targetElement) {var DISPLAY_NONE_CSS = 'display:none!important;';targetElement.style.cssText = DISPLAY_NONE_CSS;};/*** Handles shadow-dom piercing and hiding of found elements*/var hideHandler = function hideHandler() {// start value of shadow-dom hosts for the page domvar hostElements = !baseSelector ? findHostElements(document.documentElement) : document.querySelectorAll(baseSelector); // if there is shadow-dom host, they should be exploredwhile (hostElements.length !== 0) {var isHidden = false;var _pierceShadowDom = pierceShadowDom(selector, hostElements),targets = _pierceShadowDom.targets,innerHosts = _pierceShadowDom.innerHosts;targets.forEach(function (targetEl) {hideElement(targetEl);isHidden = true;});if (isHidden) {hit(source);} // continue to pierce for inner shadow-dom hosts// and search inside them while the next iterationhostElements = innerHosts;}};hideHandler();observeDOMChanges(hideHandler, true);}function hit(source, message) {if (source.verbose !== true) {return;}try {var log = console.log.bind(console);var trace = console.trace.bind(console); // eslint-disable-line compat/compatvar prefix = source.ruleText || '';if (source.domainName) {var AG_SCRIPTLET_MARKER = '#%#//';var UBO_SCRIPTLET_MARKER = '##+js';var ruleStartIndex;if (source.ruleText.indexOf(AG_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(AG_SCRIPTLET_MARKER);} else if (source.ruleText.indexOf(UBO_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(UBO_SCRIPTLET_MARKER);} // delete all domains from ruleText and leave just rule partvar rulePart = source.ruleText.slice(ruleStartIndex); // prepare applied scriptlet rule for specific domainprefix = \"\".concat(source.domainName).concat(rulePart);} // Used to check if scriptlet uses 'hit' function for loggingvar LOG_MARKER = 'log: ';if (message) {if (message.indexOf(LOG_MARKER) === -1) {log(\"\".concat(prefix, \" message:\\n\").concat(message));} else {log(message.slice(LOG_MARKER.length));}}log(\"\".concat(prefix, \" trace start\"));if (trace) {trace();}log(\"\".concat(prefix, \" trace end\"));} catch (e) {// try catch for Edge 15// In according to this issue https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/14495220/// console.log throws an error} // This is necessary for unit-tests only!if (typeof window.__debug === 'function') {window.__debug(source);}}function observeDOMChanges(callback) {var observeAttrs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;var attrsToObserve = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];/*** Returns a wrapper, passing the call to 'method' at maximum once per 'delay' milliseconds.* Those calls that fall into the \"cooldown\" period, are ignored* @param {Function} method* @param {Number} delay - milliseconds*/var throttle = function throttle(method, delay) {var wait = false;var savedArgs;var wrapper = function wrapper() {for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {args[_key] = arguments[_key];}if (wait) {savedArgs = args;return;}method.apply(void 0, args);wait = true;setTimeout(function () {wait = false;if (savedArgs) {wrapper(savedArgs);savedArgs = null;}}, delay);};return wrapper;};/*** 'delay' in milliseconds for 'throttle' method*/var THROTTLE_DELAY_MS = 20;/*** Used for remove-class*/// eslint-disable-next-line no-use-before-define, compat/compatvar observer = new MutationObserver(throttle(callbackWrapper, THROTTLE_DELAY_MS));var connect = function connect() {if (attrsToObserve.length > 0) {observer.observe(document.documentElement, {childList: true,subtree: true,attributes: observeAttrs,attributeFilter: attrsToObserve});} else {observer.observe(document.documentElement, {childList: true,subtree: true,attributes: observeAttrs});}};var disconnect = function disconnect() {observer.disconnect();};function callbackWrapper() {disconnect();callback();connect();}connect();}function flatten(input) {var stack = [];input.forEach(function (el) {return stack.push(el);});var res = [];while (stack.length) {// pop value from stackvar next = stack.pop();if (Array.isArray(next)) {// push back array items, won't modify the original inputnext.forEach(function (el) {return stack.push(el);});} else {res.push(next);}} // reverse to restore input orderreturn res.reverse();}function findHostElements(rootElement) {var hosts = []; // Element.querySelectorAll() returns list of elements// which are defined in DOM of Element.// Meanwhile, inner DOM of the element with shadowRoot property// is absolutely another DOM and which can not be reached by querySelectorAll('*')var domElems = rootElement.querySelectorAll('*');domElems.forEach(function (el) {if (el.shadowRoot) {hosts.push(el);}});return hosts;}function pierceShadowDom(selector, hostElements) {var targets = [];var innerHostsAcc = []; // it's possible to get a few hostElements found by baseSelector on the pagehostElements.forEach(function (host) {// check presence of selector element inside base element if it's not in shadow-domvar simpleElems = host.querySelectorAll(selector);targets = targets.concat([].slice.call(simpleElems));var shadowRootElem = host.shadowRoot;var shadowChildren = shadowRootElem.querySelectorAll(selector);targets = targets.concat([].slice.call(shadowChildren)); // find inner shadow-dom hosts inside processing shadow-dominnerHostsAcc.push(findHostElements(shadowRootElem));}); // if there were more than one host element,// innerHostsAcc is an array of arrays and should be flattenvar innerHosts = (0, _arrayUtils.flatten)(innerHostsAcc);return {targets: targets,innerHosts: innerHosts};};var updatedArgs = args ? [].concat(source).concat(args) : [source];try {hideInShadowDom.apply(this, updatedArgs);} catch (e) {console.log(e);}}}"
        },
        {
            "names": [
                "remove-in-shadow-dom"
            ],
            "scriptlet": "function(source, args){function removeInShadowDom(source, args) {function removeInShadowDom(source, selector, baseSelector) {// do nothing if browser does not support ShadowRoot// https://developer.mozilla.org/en-US/docs/Web/API/ShadowRootif (!Element.prototype.attachShadow) {return;}var removeElement = function removeElement(targetElement) {targetElement.remove();};/*** Handles shadow-dom piercing and removing of found elements*/var removeHandler = function removeHandler() {// start value of shadow-dom hosts for the page domvar hostElements = !baseSelector ? findHostElements(document.documentElement) : document.querySelectorAll(baseSelector); // if there is shadow-dom host, they should be exploredwhile (hostElements.length !== 0) {var isRemoved = false;var _pierceShadowDom2 = pierceShadowDom(selector, hostElements),targets = _pierceShadowDom2.targets,innerHosts = _pierceShadowDom2.innerHosts;targets.forEach(function (targetEl) {removeElement(targetEl);isRemoved = true;});if (isRemoved) {hit(source);} // continue to pierce for inner shadow-dom hosts// and search inside them while the next iterationhostElements = innerHosts;}};removeHandler();observeDOMChanges(removeHandler, true);}function hit(source, message) {if (source.verbose !== true) {return;}try {var log = console.log.bind(console);var trace = console.trace.bind(console); // eslint-disable-line compat/compatvar prefix = source.ruleText || '';if (source.domainName) {var AG_SCRIPTLET_MARKER = '#%#//';var UBO_SCRIPTLET_MARKER = '##+js';var ruleStartIndex;if (source.ruleText.indexOf(AG_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(AG_SCRIPTLET_MARKER);} else if (source.ruleText.indexOf(UBO_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(UBO_SCRIPTLET_MARKER);} // delete all domains from ruleText and leave just rule partvar rulePart = source.ruleText.slice(ruleStartIndex); // prepare applied scriptlet rule for specific domainprefix = \"\".concat(source.domainName).concat(rulePart);} // Used to check if scriptlet uses 'hit' function for loggingvar LOG_MARKER = 'log: ';if (message) {if (message.indexOf(LOG_MARKER) === -1) {log(\"\".concat(prefix, \" message:\\n\").concat(message));} else {log(message.slice(LOG_MARKER.length));}}log(\"\".concat(prefix, \" trace start\"));if (trace) {trace();}log(\"\".concat(prefix, \" trace end\"));} catch (e) {// try catch for Edge 15// In according to this issue https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/14495220/// console.log throws an error} // This is necessary for unit-tests only!if (typeof window.__debug === 'function') {window.__debug(source);}}function observeDOMChanges(callback) {var observeAttrs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;var attrsToObserve = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];/*** Returns a wrapper, passing the call to 'method' at maximum once per 'delay' milliseconds.* Those calls that fall into the \"cooldown\" period, are ignored* @param {Function} method* @param {Number} delay - milliseconds*/var throttle = function throttle(method, delay) {var wait = false;var savedArgs;var wrapper = function wrapper() {for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {args[_key] = arguments[_key];}if (wait) {savedArgs = args;return;}method.apply(void 0, args);wait = true;setTimeout(function () {wait = false;if (savedArgs) {wrapper(savedArgs);savedArgs = null;}}, delay);};return wrapper;};/*** 'delay' in milliseconds for 'throttle' method*/var THROTTLE_DELAY_MS = 20;/*** Used for remove-class*/// eslint-disable-next-line no-use-before-define, compat/compatvar observer = new MutationObserver(throttle(callbackWrapper, THROTTLE_DELAY_MS));var connect = function connect() {if (attrsToObserve.length > 0) {observer.observe(document.documentElement, {childList: true,subtree: true,attributes: observeAttrs,attributeFilter: attrsToObserve});} else {observer.observe(document.documentElement, {childList: true,subtree: true,attributes: observeAttrs});}};var disconnect = function disconnect() {observer.disconnect();};function callbackWrapper() {disconnect();callback();connect();}connect();}function flatten(input) {var stack = [];input.forEach(function (el) {return stack.push(el);});var res = [];while (stack.length) {// pop value from stackvar next = stack.pop();if (Array.isArray(next)) {// push back array items, won't modify the original inputnext.forEach(function (el) {return stack.push(el);});} else {res.push(next);}} // reverse to restore input orderreturn res.reverse();}function findHostElements(rootElement) {var hosts = []; // Element.querySelectorAll() returns list of elements// which are defined in DOM of Element.// Meanwhile, inner DOM of the element with shadowRoot property// is absolutely another DOM and which can not be reached by querySelectorAll('*')var domElems = rootElement.querySelectorAll('*');domElems.forEach(function (el) {if (el.shadowRoot) {hosts.push(el);}});return hosts;}function pierceShadowDom(selector, hostElements) {var targets = [];var innerHostsAcc = []; // it's possible to get a few hostElements found by baseSelector on the pagehostElements.forEach(function (host) {// check presence of selector element inside base element if it's not in shadow-domvar simpleElems = host.querySelectorAll(selector);targets = targets.concat([].slice.call(simpleElems));var shadowRootElem = host.shadowRoot;var shadowChildren = shadowRootElem.querySelectorAll(selector);targets = targets.concat([].slice.call(shadowChildren)); // find inner shadow-dom hosts inside processing shadow-dominnerHostsAcc.push(findHostElements(shadowRootElem));}); // if there were more than one host element,// innerHostsAcc is an array of arrays and should be flattenvar innerHosts = (0, _arrayUtils.flatten)(innerHostsAcc);return {targets: targets,innerHosts: innerHosts};};var updatedArgs = args ? [].concat(source).concat(args) : [source];try {removeInShadowDom.apply(this, updatedArgs);} catch (e) {console.log(e);}}}"
        },
        {
            "names": [
                "prevent-fetch",
                "no-fetch-if.js",
                "ubo-no-fetch-if.js",
                "ubo-no-fetch-if"
            ],
            "scriptlet": "function(source, args){function preventFetch(source, args) {function preventFetch(source, propsToMatch) {var responseBody = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'emptyObj'; // do nothing if browser does not support fetch or Proxy (e.g. Internet Explorer)// https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/fetch// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxyif (typeof fetch === 'undefined' || typeof Proxy === 'undefined' || typeof Response === 'undefined') {return;}var strResponseBody;if (responseBody === 'emptyObj') {strResponseBody = '{}';} else if (responseBody === 'emptyArr') {strResponseBody = '[]';} else {return;}var handlerWrapper = function handlerWrapper(target, thisArg, args) {var shouldPrevent = false;var fetchData = getFetchData(args);if (typeof propsToMatch === 'undefined') {// log if no propsToMatch givenvar logMessage = \"log: fetch( \".concat(objectToString(fetchData), \" )\");hit(source, logMessage);} else if (propsToMatch === '' || propsToMatch === getWildcardSymbol()) {// prevent all fetch callsshouldPrevent = true;} else {var parsedData = parseMatchProps(propsToMatch);if (!validateParsedData(parsedData)) {// eslint-disable-next-line no-consoleconsole.log(\"Invalid parameter: \".concat(propsToMatch));shouldPrevent = false;} else {var matchData = getMatchPropsData(parsedData); // prevent only if all props matchshouldPrevent = Object.keys(matchData).every(function (matchKey) {var matchValue = matchData[matchKey];return Object.prototype.hasOwnProperty.call(fetchData, matchKey) && matchValue.test(fetchData[matchKey]);});}}if (shouldPrevent) {hit(source);return noopPromiseResolve(strResponseBody);}return Reflect.apply(target, thisArg, args);};var fetchHandler = {apply: handlerWrapper};fetch = new Proxy(fetch, fetchHandler); // eslint-disable-line no-global-assign}function hit(source, message) {if (source.verbose !== true) {return;}try {var log = console.log.bind(console);var trace = console.trace.bind(console); // eslint-disable-line compat/compatvar prefix = source.ruleText || '';if (source.domainName) {var AG_SCRIPTLET_MARKER = '#%#//';var UBO_SCRIPTLET_MARKER = '##+js';var ruleStartIndex;if (source.ruleText.indexOf(AG_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(AG_SCRIPTLET_MARKER);} else if (source.ruleText.indexOf(UBO_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(UBO_SCRIPTLET_MARKER);} // delete all domains from ruleText and leave just rule partvar rulePart = source.ruleText.slice(ruleStartIndex); // prepare applied scriptlet rule for specific domainprefix = \"\".concat(source.domainName).concat(rulePart);} // Used to check if scriptlet uses 'hit' function for loggingvar LOG_MARKER = 'log: ';if (message) {if (message.indexOf(LOG_MARKER) === -1) {log(\"\".concat(prefix, \" message:\\n\").concat(message));} else {log(message.slice(LOG_MARKER.length));}}log(\"\".concat(prefix, \" trace start\"));if (trace) {trace();}log(\"\".concat(prefix, \" trace end\"));} catch (e) {// try catch for Edge 15// In according to this issue https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/14495220/// console.log throws an error} // This is necessary for unit-tests only!if (typeof window.__debug === 'function') {window.__debug(source);}}function getFetchData(args) {var fetchPropsObj = {};var fetchUrl;var fetchInit;if (args[0] instanceof Request) {// if Request passed to fetch, it will be in arrayvar requestData = getRequestData(args[0]);fetchUrl = requestData.url;fetchInit = requestData;} else {fetchUrl = args[0]; // eslint-disable-line prefer-destructuringfetchInit = args[1]; // eslint-disable-line prefer-destructuring}fetchPropsObj.url = fetchUrl;if (fetchInit instanceof Object) {Object.keys(fetchInit).forEach(function (prop) {fetchPropsObj[prop] = fetchInit[prop];});}return fetchPropsObj;}function objectToString(obj) {return (0, _objectUtils.isEmptyObject)(obj) ? '{}' : (0, _objectUtils.getObjectEntries)(obj).map(function (pair) {var key = pair[0];var value = pair[1];var recordValueStr = value;if (value instanceof Object) {recordValueStr = \"{ \".concat(objectToString(value), \" }\");}return \"\".concat(key, \":\\\"\").concat(recordValueStr, \"\\\"\");}).join(' ');}function parseMatchProps(propsToMatchStr) {var PROPS_DIVIDER = ' ';var PAIRS_MARKER = ':';var propsObj = {};var props = propsToMatchStr.split(PROPS_DIVIDER);props.forEach(function (prop) {var dividerInd = prop.indexOf(PAIRS_MARKER);if (dividerInd === -1) {propsObj.url = prop;} else {var key = prop.slice(0, dividerInd);var value = prop.slice(dividerInd + 1);propsObj[key] = value;}});return propsObj;}function validateParsedData(data) {return Object.values(data).every(function (value) {return (0, _stringUtils.validateStrPattern)(value);});}function getMatchPropsData(data) {var matchData = {};Object.keys(data).forEach(function (key) {matchData[key] = (0, _stringUtils.toRegExp)(data[key]);});return matchData;}function noopPromiseResolve() {var responseBody = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '{}';if (typeof Response === 'undefined') {return;} // eslint-disable-next-line compat/compatvar response = new Response(responseBody, {status: 200,statusText: 'OK'}); // eslint-disable-next-line compat/compat, consistent-returnreturn Promise.resolve(response);}function getWildcardSymbol() {return '*';}function toRegExp() {var input = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';var DEFAULT_VALUE = '.?';var FORWARD_SLASH = '/';if (input === '') {return new RegExp(DEFAULT_VALUE);}if (input[0] === FORWARD_SLASH && input[input.length - 1] === FORWARD_SLASH) {return new RegExp(input.slice(1, -1));}var escaped = input.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');return new RegExp(escaped);}function validateStrPattern(input) {var FORWARD_SLASH = '/';var str = input;if (input[0] === FORWARD_SLASH && input[input.length - 1] === FORWARD_SLASH) {str = input.slice(1, -1);}var isValid;try {isValid = new RegExp(str);isValid = true;} catch (e) {isValid = false;}return isValid;}function isEmptyObject(obj) {return Object.keys(obj).length === 0;}function getRequestData(request) {var REQUEST_INIT_OPTIONS = ['url', 'method', 'headers', 'body', 'mode', 'credentials', 'cache', 'redirect', 'referrer', 'integrity'];var entries = REQUEST_INIT_OPTIONS.map(function (key) {// if request has no such option, value will be undefinedvar value = request[key];return [key, value];});return (0, _objectUtils.getObjectFromEntries)(entries);}function getObjectEntries(object) {var keys = Object.keys(object);var entries = [];keys.forEach(function (key) {return entries.push([key, object[key]]);});return entries;}function getObjectFromEntries(entries) {var output = entries.reduce(function (acc, el) {var key = el[0];var value = el[1];acc[key] = value;return acc;}, {});return output;};var updatedArgs = args ? [].concat(source).concat(args) : [source];try {preventFetch.apply(this, updatedArgs);} catch (e) {console.log(e);}}}"
        },
        {
            "names": [
                "set-local-storage-item"
            ],
            "scriptlet": "function(source, args){function setLocalStorageItem(source, args) {function setLocalStorageItem(source, key, value) {if (!key || !value && value !== '') {return;}var keyValue;if (value === 'undefined') {keyValue = undefined;} else if (value === 'false') {keyValue = false;} else if (value === 'true') {keyValue = true;} else if (value === 'null') {keyValue = null;} else if (value === 'emptyArr') {keyValue = '[]';} else if (value === 'emptyObj') {keyValue = '{}';} else if (value === '') {keyValue = '';} else if (/^\\d+$/.test(value)) {keyValue = parseFloat(value);if (nativeIsNaN(keyValue)) {return;}if (Math.abs(keyValue) > 0x7FFF) {return;}} else if (value === 'yes') {keyValue = 'yes';} else if (value === 'no') {keyValue = 'no';} else {return;}var setItem = function setItem(key, value) {var _window = window,localStorage = _window.localStorage; // setItem() may throw an exception if the storage is full.try {localStorage.setItem(key, value);hit(source);} catch (e) {if (source.verbose) {// eslint-disable-next-line no-consoleconsole.log(\"Was unable to set localStorage item due to: \".concat(e.message));}}};setItem(key, keyValue);}function hit(source, message) {if (source.verbose !== true) {return;}try {var log = console.log.bind(console);var trace = console.trace.bind(console); // eslint-disable-line compat/compatvar prefix = source.ruleText || '';if (source.domainName) {var AG_SCRIPTLET_MARKER = '#%#//';var UBO_SCRIPTLET_MARKER = '##+js';var ruleStartIndex;if (source.ruleText.indexOf(AG_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(AG_SCRIPTLET_MARKER);} else if (source.ruleText.indexOf(UBO_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(UBO_SCRIPTLET_MARKER);} // delete all domains from ruleText and leave just rule partvar rulePart = source.ruleText.slice(ruleStartIndex); // prepare applied scriptlet rule for specific domainprefix = \"\".concat(source.domainName).concat(rulePart);} // Used to check if scriptlet uses 'hit' function for loggingvar LOG_MARKER = 'log: ';if (message) {if (message.indexOf(LOG_MARKER) === -1) {log(\"\".concat(prefix, \" message:\\n\").concat(message));} else {log(message.slice(LOG_MARKER.length));}}log(\"\".concat(prefix, \" trace start\"));if (trace) {trace();}log(\"\".concat(prefix, \" trace end\"));} catch (e) {// try catch for Edge 15// In according to this issue https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/14495220/// console.log throws an error} // This is necessary for unit-tests only!if (typeof window.__debug === 'function') {window.__debug(source);}}function nativeIsNaN(num) {var native = Number.isNaN || window.isNaN; // eslint-disable-line compat/compatreturn native(num);};var updatedArgs = args ? [].concat(source).concat(args) : [source];try {setLocalStorageItem.apply(this, updatedArgs);} catch (e) {console.log(e);}}}"
        },
        {
            "names": [
                "set-session-storage-item"
            ],
            "scriptlet": "function(source, args){function setSessionStorageItem(source, args) {function setSessionStorageItem(source, key, value) {if (!key || !value && value !== '') {return;}var keyValue;if (value === 'undefined') {keyValue = undefined;} else if (value === 'false') {keyValue = false;} else if (value === 'true') {keyValue = true;} else if (value === 'null') {keyValue = null;} else if (value === 'emptyArr') {keyValue = '[]';} else if (value === 'emptyObj') {keyValue = '{}';} else if (value === '') {keyValue = '';} else if (/^\\d+$/.test(value)) {keyValue = parseFloat(value);if (nativeIsNaN(keyValue)) {return;}if (Math.abs(keyValue) > 0x7FFF) {return;}} else if (value === 'yes') {keyValue = 'yes';} else if (value === 'no') {keyValue = 'no';} else {return;}var setItem = function setItem(key, value) {var _window2 = window,sessionStorage = _window2.sessionStorage; // setItem() may throw an exception if the storage is full.try {sessionStorage.setItem(key, value);hit(source);} catch (e) {if (source.verbose) {// eslint-disable-next-line no-consoleconsole.log(\"Was unable to set sessionStorage item due to: \".concat(e.message));}}};setItem(key, keyValue);}function hit(source, message) {if (source.verbose !== true) {return;}try {var log = console.log.bind(console);var trace = console.trace.bind(console); // eslint-disable-line compat/compatvar prefix = source.ruleText || '';if (source.domainName) {var AG_SCRIPTLET_MARKER = '#%#//';var UBO_SCRIPTLET_MARKER = '##+js';var ruleStartIndex;if (source.ruleText.indexOf(AG_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(AG_SCRIPTLET_MARKER);} else if (source.ruleText.indexOf(UBO_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(UBO_SCRIPTLET_MARKER);} // delete all domains from ruleText and leave just rule partvar rulePart = source.ruleText.slice(ruleStartIndex); // prepare applied scriptlet rule for specific domainprefix = \"\".concat(source.domainName).concat(rulePart);} // Used to check if scriptlet uses 'hit' function for loggingvar LOG_MARKER = 'log: ';if (message) {if (message.indexOf(LOG_MARKER) === -1) {log(\"\".concat(prefix, \" message:\\n\").concat(message));} else {log(message.slice(LOG_MARKER.length));}}log(\"\".concat(prefix, \" trace start\"));if (trace) {trace();}log(\"\".concat(prefix, \" trace end\"));} catch (e) {// try catch for Edge 15// In according to this issue https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/14495220/// console.log throws an error} // This is necessary for unit-tests only!if (typeof window.__debug === 'function') {window.__debug(source);}}function nativeIsNaN(num) {var native = Number.isNaN || window.isNaN; // eslint-disable-line compat/compatreturn native(num);};var updatedArgs = args ? [].concat(source).concat(args) : [source];try {setSessionStorageItem.apply(this, updatedArgs);} catch (e) {console.log(e);}}}"
        },
        {
            "names": [
                "abort-on-stack-trace",
                "abort-on-stack-trace.js",
                "ubo-abort-on-stack-trace.js",
                "aost.js",
                "ubo-aost.js",
                "ubo-abort-on-stack-trace",
                "ubo-aost",
                "abp-abort-on-stack-trace"
            ],
            "scriptlet": "function(source, args){function abortOnStackTrace(source, args) {function abortOnStackTrace(source, property, stack) {if (!property || !stack) {return;}var rid = randomId();var abort = function abort() {hit(source);throw new ReferenceError(rid);};var setChainPropAccess = function setChainPropAccess(owner, property) {var chainInfo = getPropertyInChain(owner, property);var base = chainInfo.base;var prop = chainInfo.prop,chain = chainInfo.chain;if (chain) {var setter = function setter(a) {base = a;if (a instanceof Object) {setChainPropAccess(a, chain);}};Object.defineProperty(owner, prop, {get: function get() {return base;},set: setter});return;}var value = base[prop];if (!validateStrPattern(stack)) {// eslint-disable-next-line no-consoleconsole.log(\"Invalid parameter: \".concat(stack));return;}setPropertyAccess(base, prop, {get: function get() {if (matchStackTrace(stack, new Error().stack)) {abort();}return value;},set: function set(newValue) {if (matchStackTrace(stack, new Error().stack)) {abort();}value = newValue;}});};setChainPropAccess(window, property);window.onerror = createOnErrorHandler(rid).bind();}function randomId() {return Math.random().toString(36).substr(2, 9);}function setPropertyAccess(object, property, descriptor) {var currentDescriptor = Object.getOwnPropertyDescriptor(object, property);if (currentDescriptor && !currentDescriptor.configurable) {return false;}Object.defineProperty(object, property, descriptor);return true;}function getPropertyInChain(base, chain) {var pos = chain.indexOf('.');if (pos === -1) {return {base: base,prop: chain};}var prop = chain.slice(0, pos); // https://github.com/AdguardTeam/Scriptlets/issues/128if (base === null) {// if base is null, return 'null' as base.// it's needed for triggering the reason logging while debuggingreturn {base: base,prop: prop,chain: chain};}var nextBase = base[prop];chain = chain.slice(pos + 1);if (nextBase !== undefined) {return getPropertyInChain(nextBase, chain);}Object.defineProperty(base, prop, {configurable: true});return {base: nextBase,prop: prop,chain: chain};}function createOnErrorHandler(rid) {// eslint-disable-next-line consistent-returnvar nativeOnError = window.onerror;return function onError(error) {if (typeof error === 'string' && error.indexOf(rid) !== -1) {return true;}if (nativeOnError instanceof Function) {for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {args[_key - 1] = arguments[_key];}return nativeOnError.apply(this, [error].concat(args));}return false;};}function hit(source, message) {if (source.verbose !== true) {return;}try {var log = console.log.bind(console);var trace = console.trace.bind(console); // eslint-disable-line compat/compatvar prefix = source.ruleText || '';if (source.domainName) {var AG_SCRIPTLET_MARKER = '#%#//';var UBO_SCRIPTLET_MARKER = '##+js';var ruleStartIndex;if (source.ruleText.indexOf(AG_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(AG_SCRIPTLET_MARKER);} else if (source.ruleText.indexOf(UBO_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(UBO_SCRIPTLET_MARKER);} // delete all domains from ruleText and leave just rule partvar rulePart = source.ruleText.slice(ruleStartIndex); // prepare applied scriptlet rule for specific domainprefix = \"\".concat(source.domainName).concat(rulePart);} // Used to check if scriptlet uses 'hit' function for loggingvar LOG_MARKER = 'log: ';if (message) {if (message.indexOf(LOG_MARKER) === -1) {log(\"\".concat(prefix, \" message:\\n\").concat(message));} else {log(message.slice(LOG_MARKER.length));}}log(\"\".concat(prefix, \" trace start\"));if (trace) {trace();}log(\"\".concat(prefix, \" trace end\"));} catch (e) {// try catch for Edge 15// In according to this issue https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/14495220/// console.log throws an error} // This is necessary for unit-tests only!if (typeof window.__debug === 'function') {window.__debug(source);}}function validateStrPattern(input) {var FORWARD_SLASH = '/';var str = input;if (input[0] === FORWARD_SLASH && input[input.length - 1] === FORWARD_SLASH) {str = input.slice(1, -1);}var isValid;try {isValid = new RegExp(str);isValid = true;} catch (e) {isValid = false;}return isValid;}function matchStackTrace(stackMatch, stackTrace) {if (!stackMatch || stackMatch === '') {return true;}var stackRegexp = (0, _stringUtils.toRegExp)(stackMatch);var refinedStackTrace = stackTrace.split('\\n').slice(2) // get rid of our own functions in the stack trace.map(function (line) {return line.trim();}) // trim the lines.join('\\n');return stackRegexp.test(refinedStackTrace);}function toRegExp() {var input = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';var DEFAULT_VALUE = '.?';var FORWARD_SLASH = '/';if (input === '') {return new RegExp(DEFAULT_VALUE);}if (input[0] === FORWARD_SLASH && input[input.length - 1] === FORWARD_SLASH) {return new RegExp(input.slice(1, -1));}var escaped = input.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');return new RegExp(escaped);};var updatedArgs = args ? [].concat(source).concat(args) : [source];try {abortOnStackTrace.apply(this, updatedArgs);} catch (e) {console.log(e);}}}"
        },
        {
            "names": [
                "log-on-stack-trace"
            ],
            "scriptlet": "function(source, args){function logOnStacktrace(source, args) {function logOnStacktrace(source, property) {if (!property) {return;}var refineStackTrace = function refineStackTrace(stackString) {// Split stack trace string by lines and remove first two elements ('Error' and getter call)// Remove 'at ' at the start of each stringvar stackSteps = stackString.split('\\n').slice(2).map(function (line) {return line.replace(/ {4}at /, '');}); // Trim each line extracting funcName : fullPath pairvar logInfoArray = stackSteps.map(function (line) {var funcName;var funcFullPath;/* eslint-disable-next-line no-useless-escape */var reg = /\\(([^\\)]+)\\)/;if (line.match(reg)) {funcName = line.split(' ').slice(0, -1).join(' ');/* eslint-disable-next-line prefer-destructuring, no-useless-escape */funcFullPath = line.match(reg)[1];} else {// For when func name is not availablefuncName = 'function name is not available';funcFullPath = line;}return [funcName, funcFullPath];}); // Convert array into object for better display using console.tablevar logInfoObject = {};logInfoArray.forEach(function (pair) {/* eslint-disable-next-line prefer-destructuring */logInfoObject[pair[0]] = pair[1];});return logInfoObject;};var setChainPropAccess = function setChainPropAccess(owner, property) {var chainInfo = getPropertyInChain(owner, property);var base = chainInfo.base;var prop = chainInfo.prop,chain = chainInfo.chain;if (chain) {var setter = function setter(a) {base = a;if (a instanceof Object) {setChainPropAccess(a, chain);}};Object.defineProperty(owner, prop, {get: function get() {return base;},set: setter});return;}var value = base[prop];/* eslint-disable no-console, compat/compat */setPropertyAccess(base, prop, {get: function get() {hit(source);console.log(\"%cGet %c\".concat(prop), 'color:red;', 'color:green;');console.table(refineStackTrace(new Error().stack));return value;},set: function set(newValue) {hit(source);console.log(\"%cSet %c\".concat(prop), 'color:red;', 'color:green;');console.table(refineStackTrace(new Error().stack));value = newValue;}});/* eslint-enable no-console, compat/compat */};setChainPropAccess(window, property);}function getPropertyInChain(base, chain) {var pos = chain.indexOf('.');if (pos === -1) {return {base: base,prop: chain};}var prop = chain.slice(0, pos); // https://github.com/AdguardTeam/Scriptlets/issues/128if (base === null) {// if base is null, return 'null' as base.// it's needed for triggering the reason logging while debuggingreturn {base: base,prop: prop,chain: chain};}var nextBase = base[prop];chain = chain.slice(pos + 1);if (nextBase !== undefined) {return getPropertyInChain(nextBase, chain);}Object.defineProperty(base, prop, {configurable: true});return {base: nextBase,prop: prop,chain: chain};}function setPropertyAccess(object, property, descriptor) {var currentDescriptor = Object.getOwnPropertyDescriptor(object, property);if (currentDescriptor && !currentDescriptor.configurable) {return false;}Object.defineProperty(object, property, descriptor);return true;}function hit(source, message) {if (source.verbose !== true) {return;}try {var log = console.log.bind(console);var trace = console.trace.bind(console); // eslint-disable-line compat/compatvar prefix = source.ruleText || '';if (source.domainName) {var AG_SCRIPTLET_MARKER = '#%#//';var UBO_SCRIPTLET_MARKER = '##+js';var ruleStartIndex;if (source.ruleText.indexOf(AG_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(AG_SCRIPTLET_MARKER);} else if (source.ruleText.indexOf(UBO_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(UBO_SCRIPTLET_MARKER);} // delete all domains from ruleText and leave just rule partvar rulePart = source.ruleText.slice(ruleStartIndex); // prepare applied scriptlet rule for specific domainprefix = \"\".concat(source.domainName).concat(rulePart);} // Used to check if scriptlet uses 'hit' function for loggingvar LOG_MARKER = 'log: ';if (message) {if (message.indexOf(LOG_MARKER) === -1) {log(\"\".concat(prefix, \" message:\\n\").concat(message));} else {log(message.slice(LOG_MARKER.length));}}log(\"\".concat(prefix, \" trace start\"));if (trace) {trace();}log(\"\".concat(prefix, \" trace end\"));} catch (e) {// try catch for Edge 15// In according to this issue https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/14495220/// console.log throws an error} // This is necessary for unit-tests only!if (typeof window.__debug === 'function') {window.__debug(source);}};var updatedArgs = args ? [].concat(source).concat(args) : [source];try {logOnStacktrace.apply(this, updatedArgs);} catch (e) {console.log(e);}}}"
        },
        {
            "names": [
                "prevent-xhr",
                "no-xhr-if.js",
                "ubo-no-xhr-if.js",
                "ubo-no-xhr-if"
            ],
            "scriptlet": "function(source, args){function preventXHR(source, args) {function preventXHR(source, propsToMatch, randomize) {// do nothing if browser does not support Proxy (e.g. Internet Explorer)// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxyif (typeof Proxy === 'undefined') {return;}var shouldPrevent = false;var responseText = '';var responseUrl;var openWrapper = function openWrapper(target, thisArg, args) {// Get method and url from .open()var xhrData = {method: args[0],url: args[1]};responseUrl = xhrData.url;if (typeof propsToMatch === 'undefined') {// Log if no propsToMatch givenvar logMessage = \"log: xhr( \".concat(objectToString(xhrData), \" )\");hit(source, logMessage);} else if (propsToMatch === '' || propsToMatch === getWildcardSymbol()) {// Prevent all fetch callsshouldPrevent = true;} else {var parsedData = parseMatchProps(propsToMatch);if (!validateParsedData(parsedData)) {// eslint-disable-next-line no-consoleconsole.log(\"Invalid parameter: \".concat(propsToMatch));shouldPrevent = false;} else {var matchData = getMatchPropsData(parsedData); // prevent only if all props matchshouldPrevent = Object.keys(matchData).every(function (matchKey) {var matchValue = matchData[matchKey];return Object.prototype.hasOwnProperty.call(xhrData, matchKey) && matchValue.test(xhrData[matchKey]);});}}return Reflect.apply(target, thisArg, args);};var sendWrapper = function sendWrapper(target, thisArg, args) {if (!shouldPrevent) {return Reflect.apply(target, thisArg, args);}if (randomize === 'true') {// Generate random alphanumeric string of 10 symbolsresponseText = Math.random().toString(36).slice(-10);} // Mock response objectObject.defineProperties(thisArg, {readyState: {value: 4,writable: false},response: {value: '',writable: false},responseText: {value: responseText,writable: false},responseURL: {value: responseUrl,writable: false},responseXML: {value: '',writable: false},status: {value: 200,writable: false},statusText: {value: 'OK',writable: false}}); // Mock eventssetTimeout(function () {var stateEvent = new Event('readystatechange');thisArg.dispatchEvent(stateEvent);var loadEvent = new Event('load');thisArg.dispatchEvent(loadEvent);var loadEndEvent = new Event('loadend');thisArg.dispatchEvent(loadEndEvent);}, 1);hit(source);return undefined;};var openHandler = {apply: openWrapper};var sendHandler = {apply: sendWrapper};XMLHttpRequest.prototype.open = new Proxy(XMLHttpRequest.prototype.open, openHandler);XMLHttpRequest.prototype.send = new Proxy(XMLHttpRequest.prototype.send, sendHandler);}function hit(source, message) {if (source.verbose !== true) {return;}try {var log = console.log.bind(console);var trace = console.trace.bind(console); // eslint-disable-line compat/compatvar prefix = source.ruleText || '';if (source.domainName) {var AG_SCRIPTLET_MARKER = '#%#//';var UBO_SCRIPTLET_MARKER = '##+js';var ruleStartIndex;if (source.ruleText.indexOf(AG_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(AG_SCRIPTLET_MARKER);} else if (source.ruleText.indexOf(UBO_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(UBO_SCRIPTLET_MARKER);} // delete all domains from ruleText and leave just rule partvar rulePart = source.ruleText.slice(ruleStartIndex); // prepare applied scriptlet rule for specific domainprefix = \"\".concat(source.domainName).concat(rulePart);} // Used to check if scriptlet uses 'hit' function for loggingvar LOG_MARKER = 'log: ';if (message) {if (message.indexOf(LOG_MARKER) === -1) {log(\"\".concat(prefix, \" message:\\n\").concat(message));} else {log(message.slice(LOG_MARKER.length));}}log(\"\".concat(prefix, \" trace start\"));if (trace) {trace();}log(\"\".concat(prefix, \" trace end\"));} catch (e) {// try catch for Edge 15// In according to this issue https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/14495220/// console.log throws an error} // This is necessary for unit-tests only!if (typeof window.__debug === 'function') {window.__debug(source);}}function objectToString(obj) {return (0, _objectUtils.isEmptyObject)(obj) ? '{}' : (0, _objectUtils.getObjectEntries)(obj).map(function (pair) {var key = pair[0];var value = pair[1];var recordValueStr = value;if (value instanceof Object) {recordValueStr = \"{ \".concat(objectToString(value), \" }\");}return \"\".concat(key, \":\\\"\").concat(recordValueStr, \"\\\"\");}).join(' ');}function getWildcardSymbol() {return '*';}function parseMatchProps(propsToMatchStr) {var PROPS_DIVIDER = ' ';var PAIRS_MARKER = ':';var propsObj = {};var props = propsToMatchStr.split(PROPS_DIVIDER);props.forEach(function (prop) {var dividerInd = prop.indexOf(PAIRS_MARKER);if (dividerInd === -1) {propsObj.url = prop;} else {var key = prop.slice(0, dividerInd);var value = prop.slice(dividerInd + 1);propsObj[key] = value;}});return propsObj;}function validateParsedData(data) {return Object.values(data).every(function (value) {return (0, _stringUtils.validateStrPattern)(value);});}function getMatchPropsData(data) {var matchData = {};Object.keys(data).forEach(function (key) {matchData[key] = (0, _stringUtils.toRegExp)(data[key]);});return matchData;}function toRegExp() {var input = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';var DEFAULT_VALUE = '.?';var FORWARD_SLASH = '/';if (input === '') {return new RegExp(DEFAULT_VALUE);}if (input[0] === FORWARD_SLASH && input[input.length - 1] === FORWARD_SLASH) {return new RegExp(input.slice(1, -1));}var escaped = input.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');return new RegExp(escaped);}function validateStrPattern(input) {var FORWARD_SLASH = '/';var str = input;if (input[0] === FORWARD_SLASH && input[input.length - 1] === FORWARD_SLASH) {str = input.slice(1, -1);}var isValid;try {isValid = new RegExp(str);isValid = true;} catch (e) {isValid = false;}return isValid;}function isEmptyObject(obj) {return Object.keys(obj).length === 0;}function getObjectEntries(object) {var keys = Object.keys(object);var entries = [];keys.forEach(function (key) {return entries.push([key, object[key]]);});return entries;};var updatedArgs = args ? [].concat(source).concat(args) : [source];try {preventXHR.apply(this, updatedArgs);} catch (e) {console.log(e);}}}"
        },
        {
            "names": [
                "close-window",
                "window-close-if.js",
                "ubo-window-close-if.js",
                "ubo-window-close-if"
            ],
            "scriptlet": "function(source, args){function forceWindowClose(source, args) {function forceWindowClose(source) {var path = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ''; // eslint-disable-next-line no-consolevar log = console.log.bind(console); // https://github.com/AdguardTeam/Scriptlets/issues/158#issuecomment-993423036if (typeof window.close !== 'function') {if (source.verbose) {log('window.close() is not a function so \\'close-window\\' scriptlet is unavailable');}return;}var closeImmediately = function closeImmediately() {try {hit(source);window.close();} catch (e) {// log the error if window closing is impossible// https://developer.mozilla.org/en-US/docs/Web/API/Window/closelog(e);}};if (path === '') {closeImmediately();} else {var pathRegexp = toRegExp(path);var currentPath = \"\".concat(window.location.pathname).concat(window.location.search);if (pathRegexp.test(currentPath)) {closeImmediately();}}}function hit(source, message) {if (source.verbose !== true) {return;}try {var log = console.log.bind(console);var trace = console.trace.bind(console); // eslint-disable-line compat/compatvar prefix = source.ruleText || '';if (source.domainName) {var AG_SCRIPTLET_MARKER = '#%#//';var UBO_SCRIPTLET_MARKER = '##+js';var ruleStartIndex;if (source.ruleText.indexOf(AG_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(AG_SCRIPTLET_MARKER);} else if (source.ruleText.indexOf(UBO_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(UBO_SCRIPTLET_MARKER);} // delete all domains from ruleText and leave just rule partvar rulePart = source.ruleText.slice(ruleStartIndex); // prepare applied scriptlet rule for specific domainprefix = \"\".concat(source.domainName).concat(rulePart);} // Used to check if scriptlet uses 'hit' function for loggingvar LOG_MARKER = 'log: ';if (message) {if (message.indexOf(LOG_MARKER) === -1) {log(\"\".concat(prefix, \" message:\\n\").concat(message));} else {log(message.slice(LOG_MARKER.length));}}log(\"\".concat(prefix, \" trace start\"));if (trace) {trace();}log(\"\".concat(prefix, \" trace end\"));} catch (e) {// try catch for Edge 15// In according to this issue https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/14495220/// console.log throws an error} // This is necessary for unit-tests only!if (typeof window.__debug === 'function') {window.__debug(source);}}function toRegExp() {var input = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';var DEFAULT_VALUE = '.?';var FORWARD_SLASH = '/';if (input === '') {return new RegExp(DEFAULT_VALUE);}if (input[0] === FORWARD_SLASH && input[input.length - 1] === FORWARD_SLASH) {return new RegExp(input.slice(1, -1));}var escaped = input.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');return new RegExp(escaped);};var updatedArgs = args ? [].concat(source).concat(args) : [source];try {forceWindowClose.apply(this, updatedArgs);} catch (e) {console.log(e);}}}"
        },
        {
            "names": [
                "prevent-refresh",
                "refresh-defuser.js",
                "refresh-defuser",
                "ubo-refresh-defuser.js",
                "ubo-refresh-defuser"
            ],
            "scriptlet": "function(source, args){function preventRefresh(source, args) {function preventRefresh(source, delaySec) {var getMetaElements = function getMetaElements() {var metaNodes = [];try {metaNodes = document.querySelectorAll('meta[http-equiv=\"refresh\" i][content]');} catch (e) {// 'i' attribute flag is problematic in Edge 15try {metaNodes = document.querySelectorAll('meta[http-equiv=\"refresh\"][content]');} catch (e) {if (source.verbose) {// eslint-disable-next-line no-consoleconsole.log(e);}}}return Array.from(metaNodes);};var getMetaContentDelay = function getMetaContentDelay(metaElements) {var delays = metaElements.map(function (meta) {var contentString = meta.getAttribute('content');if (contentString.length === 0) {return null;}var contentDelay; // https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#attr-http-equivvar limiterIndex = contentString.indexOf(';');if (limiterIndex !== -1) {var delaySubstring = contentString.substring(0, limiterIndex);contentDelay = getNumberFromString(delaySubstring);} else {contentDelay = getNumberFromString(contentString);}return contentDelay;}).filter(function (delay) {return delay !== null;}); // Get smallest delay of all metas on the pagevar minDelay = delays.reduce(function (a, b) {return Math.min(a, b);}); // eslint-disable-next-line consistent-returnreturn minDelay;};var stop = function stop() {var metaElements = getMetaElements();if (metaElements.length === 0) {return;}var secondsToRun = getNumberFromString(delaySec); // Check if argument is providedif (!secondsToRun) {secondsToRun = getMetaContentDelay(metaElements);} // Check if meta tag has delayif (!secondsToRun) {return;}var delayMs = secondsToRun * 1000;setTimeout(function () {window.stop();hit(source);}, delayMs);};if (document.readyState === 'loading') {document.addEventListener('DOMContentLoaded', stop, {once: true});} else {stop();}}function hit(source, message) {if (source.verbose !== true) {return;}try {var log = console.log.bind(console);var trace = console.trace.bind(console); // eslint-disable-line compat/compatvar prefix = source.ruleText || '';if (source.domainName) {var AG_SCRIPTLET_MARKER = '#%#//';var UBO_SCRIPTLET_MARKER = '##+js';var ruleStartIndex;if (source.ruleText.indexOf(AG_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(AG_SCRIPTLET_MARKER);} else if (source.ruleText.indexOf(UBO_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(UBO_SCRIPTLET_MARKER);} // delete all domains from ruleText and leave just rule partvar rulePart = source.ruleText.slice(ruleStartIndex); // prepare applied scriptlet rule for specific domainprefix = \"\".concat(source.domainName).concat(rulePart);} // Used to check if scriptlet uses 'hit' function for loggingvar LOG_MARKER = 'log: ';if (message) {if (message.indexOf(LOG_MARKER) === -1) {log(\"\".concat(prefix, \" message:\\n\").concat(message));} else {log(message.slice(LOG_MARKER.length));}}log(\"\".concat(prefix, \" trace start\"));if (trace) {trace();}log(\"\".concat(prefix, \" trace end\"));} catch (e) {// try catch for Edge 15// In according to this issue https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/14495220/// console.log throws an error} // This is necessary for unit-tests only!if (typeof window.__debug === 'function') {window.__debug(source);}}function getNumberFromString(rawString) {var parsedDelay = parseInt(rawString, 10);var validDelay = nativeIsNaN(parsedDelay) ? null : parsedDelay;return validDelay;}function nativeIsNaN(num) {var native = Number.isNaN || window.isNaN; // eslint-disable-line compat/compatreturn native(num);};var updatedArgs = args ? [].concat(source).concat(args) : [source];try {preventRefresh.apply(this, updatedArgs);} catch (e) {console.log(e);}}}"
        },
        {
            "names": [
                "prevent-element-src-loading"
            ],
            "scriptlet": "function(source, args){function preventElementSrcLoading(source, args) {function preventElementSrcLoading(source, tagName, match) {// do nothing if browser does not support Proxy or Reflectif (typeof Proxy === 'undefined' || typeof Reflect === 'undefined') {return;}var srcMockData = {// \"KCk9Pnt9\" = \"()=>{}\"script: 'data:text/javascript;base64,KCk9Pnt9',// Empty 1x1 imageimg: 'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==',// Empty h1 tagiframe: 'data:text/html;base64, PGRpdj48L2Rpdj4='};var instance;if (tagName === 'script') {instance = HTMLScriptElement;} else if (tagName === 'img') {instance = HTMLImageElement;} else if (tagName === 'iframe') {instance = HTMLIFrameElement;} else {return;} // For websites that use Trusted Types// https://w3c.github.io/webappsec-trusted-types/dist/spec/var hasTrustedTypes = window.trustedTypes && typeof window.trustedTypes.createPolicy === 'function';var policy;if (hasTrustedTypes) {policy = window.trustedTypes.createPolicy('mock', {createScriptURL: function createScriptURL(arg) {return arg;}});}var SOURCE_PROPERTY_NAME = 'src';var searchRegexp = toRegExp(match);var setAttributeWrapper = function setAttributeWrapper(target, thisArg, args) {// Check if arguments are presentif (!args[0] || !args[1]) {return Reflect.apply(target, thisArg, args);}var nodeName = thisArg.nodeName.toLowerCase();var attrName = args[0].toLowerCase();var attrValue = args[1];var isMatched = attrName === SOURCE_PROPERTY_NAME && tagName.toLowerCase() === nodeName && srcMockData[nodeName] && searchRegexp.test(attrValue);if (!isMatched) {return Reflect.apply(target, thisArg, args);}hit(source); // Forward the URI that corresponds with element's MIME typereturn Reflect.apply(target, thisArg, [attrName, srcMockData[nodeName]]);};var setAttributeHandler = {apply: setAttributeWrapper}; // eslint-disable-next-line max-leninstance.prototype.setAttribute = new Proxy(Element.prototype.setAttribute, setAttributeHandler);var origDescriptor = safeGetDescriptor(instance.prototype, SOURCE_PROPERTY_NAME);if (!origDescriptor) {return;}Object.defineProperty(instance.prototype, SOURCE_PROPERTY_NAME, {enumerable: true,configurable: true,get: function get() {return origDescriptor.get.call(this);},set: function set(urlValue) {var nodeName = this.nodeName.toLowerCase();var isMatched = tagName.toLowerCase() === nodeName && srcMockData[nodeName] && searchRegexp.test(urlValue);if (!isMatched) {origDescriptor.set.call(this, urlValue);return;} // eslint-disable-next-line no-undefif (policy && urlValue instanceof TrustedScriptURL) {var trustedSrc = policy.createScriptURL(urlValue);origDescriptor.set.call(this, trustedSrc);hit(source);return;}origDescriptor.set.call(this, srcMockData[nodeName]);hit(source);}});}function hit(source, message) {if (source.verbose !== true) {return;}try {var log = console.log.bind(console);var trace = console.trace.bind(console); // eslint-disable-line compat/compatvar prefix = source.ruleText || '';if (source.domainName) {var AG_SCRIPTLET_MARKER = '#%#//';var UBO_SCRIPTLET_MARKER = '##+js';var ruleStartIndex;if (source.ruleText.indexOf(AG_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(AG_SCRIPTLET_MARKER);} else if (source.ruleText.indexOf(UBO_SCRIPTLET_MARKER) > -1) {ruleStartIndex = source.ruleText.indexOf(UBO_SCRIPTLET_MARKER);} // delete all domains from ruleText and leave just rule partvar rulePart = source.ruleText.slice(ruleStartIndex); // prepare applied scriptlet rule for specific domainprefix = \"\".concat(source.domainName).concat(rulePart);} // Used to check if scriptlet uses 'hit' function for loggingvar LOG_MARKER = 'log: ';if (message) {if (message.indexOf(LOG_MARKER) === -1) {log(\"\".concat(prefix, \" message:\\n\").concat(message));} else {log(message.slice(LOG_MARKER.length));}}log(\"\".concat(prefix, \" trace start\"));if (trace) {trace();}log(\"\".concat(prefix, \" trace end\"));} catch (e) {// try catch for Edge 15// In according to this issue https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/14495220/// console.log throws an error} // This is necessary for unit-tests only!if (typeof window.__debug === 'function') {window.__debug(source);}}function toRegExp() {var input = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';var DEFAULT_VALUE = '.?';var FORWARD_SLASH = '/';if (input === '') {return new RegExp(DEFAULT_VALUE);}if (input[0] === FORWARD_SLASH && input[input.length - 1] === FORWARD_SLASH) {return new RegExp(input.slice(1, -1));}var escaped = input.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');return new RegExp(escaped);}function safeGetDescriptor(obj, prop) {var descriptor = Object.getOwnPropertyDescriptor(obj, prop);if (descriptor && descriptor.configurable) {return descriptor;}return null;};var updatedArgs = args ? [].concat(source).concat(args) : [source];try {preventElementSrcLoading.apply(this, updatedArgs);} catch (e) {console.log(e);}}}"
        }
    ]
}